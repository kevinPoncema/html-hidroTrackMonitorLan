{"version":3,"file":"intro.min.js","sources":["../../src/util/cloneObject.ts","../../src/util/queryElement.ts","../../src/packages/hint/dataAttributes.ts","../../src/packages/hint/hintItem.ts","../../src/option.ts","../../src/util/isFunction.ts","../../src/util/getPropValue.ts","../../src/util/isFixed.ts","../../src/util/getOffset.ts","../../src/packages/hint/position.ts","../../src/util/DOMEvent.ts","../../src/util/containerElement.ts","../../src/packages/hint/className.ts","../../src/util/setStyle.ts","../../src/util/createElement.ts","../../src/util/setAnchorAsButton.ts","../../src/util/className.ts","../../src/packages/hint/selector.ts","../../src/packages/hint/hide.ts","../../src/util/setPositionRelativeTo.ts","../../src/util/getWindowSize.ts","../../src/util/checkRight.ts","../../src/util/checkLeft.ts","../../src/util/removeEntry.ts","../../src/packages/tooltip/placeTooltip.ts","../../src/packages/hint/tooltip.ts","../../src/packages/hint/render.ts","../../src/packages/hint/show.ts","../../src/packages/hint/remove.ts","../../src/packages/hint/hint.ts","../../src/packages/hint/option.ts","../../src/util/debounce.ts","../../src/util/scrollParentToElement.ts","../../src/util/getScrollParent.ts","../../src/util/scrollTo.ts","../../src/util/elementInViewport.ts","../../src/packages/tour/classNames.ts","../../src/packages/tour/removeShowElement.ts","../../src/util/appendChild.ts","../../src/packages/tour/dataAttributes.ts","../../src/packages/tour/showElement.ts","../../src/packages/tour/position.ts","../../src/packages/tour/steps.ts","../../src/packages/tour/addOverlayLayer.ts","../../src/packages/tour/start.ts","../../src/util/removeChild.ts","../../src/packages/tour/exitIntro.ts","../../src/util/cookie.ts","../../src/packages/tour/dontShowAgain.ts","../../src/packages/tour/refresh.ts","../../src/packages/tour/onKeyDown.ts","../../src/packages/tour/tour.ts","../../src/packages/tour/option.ts","../../src/packages/tour/onResize.ts","../../src/index.ts"],"sourcesContent":["/**\n * Makes a copy of an object\n * @api private\n */\nexport default function cloneObject<T>(source: T): T {\n  if (source === null || typeof source !== \"object\" || \"nodeType\" in source) {\n    return source;\n  }\n\n  const temp = {} as T;\n\n  for (const key in source) {\n    if (\n      \"jQuery\" in window &&\n      window.jQuery &&\n      source[key] instanceof (window.jQuery as any)\n    ) {\n      temp[key] = source[key];\n    } else {\n      temp[key] = cloneObject(source[key]);\n    }\n  }\n  return temp;\n}\n","export const queryElement = (\n  selector: string,\n  container?: HTMLElement | null\n): HTMLElement | null => {\n  return (container ?? document).querySelector(selector);\n};\n\nexport const queryElements = (\n  selector: string,\n  container?: HTMLElement | null\n): NodeListOf<HTMLElement> => {\n  return (container ?? document).querySelectorAll(selector);\n};\n\nexport const queryElementByClassName = (\n  className: string,\n  container?: HTMLElement | null\n): HTMLElement | null => {\n  return queryElement(`.${className}`, container);\n};\n\nexport const queryElementsByClassName = (\n  className: string,\n  container?: HTMLElement | null\n): NodeListOf<HTMLElement> => {\n  return queryElements(`.${className}`, container);\n};\n\nexport const getElementByClassName = (\n  className: string,\n  container?: HTMLElement | null\n): HTMLElement => {\n  const element = queryElementByClassName(className, container);\n  if (!element) {\n    throw new Error(`Element with class name ${className} not found`);\n  }\n  return element;\n};\n\nexport const getElement = (\n  selector: string,\n  container?: HTMLElement | null\n) => {\n  const element = queryElement(selector, container);\n\n  if (!element) {\n    throw new Error(`Element with selector ${selector} not found`);\n  }\n\n  return element;\n};\n","export const dataHintAttribute = \"data-hint\";\nexport const dataStepAttribute = \"data-step\";\nexport const dataHintPositionAttribute = \"data-hint-position\";\nexport const dataTooltipClassAttribute = \"data-tooltip-class\";\n","import { TooltipPosition } from \"../../packages/tooltip\";\nimport { Hint } from \"./hint\";\nimport cloneObject from \"../../util/cloneObject\";\nimport { queryElement, queryElements } from \"../../util/queryElement\";\nimport {\n  dataHintAttribute,\n  dataHintPositionAttribute,\n  dataTooltipClassAttribute,\n} from \"./dataAttributes\";\n\nexport type HintPosition =\n  | \"top-left\"\n  | \"top-right\"\n  | \"top-middle\"\n  | \"bottom-left\"\n  | \"bottom-right\"\n  | \"bottom-middle\"\n  | \"middle-left\"\n  | \"middle-right\"\n  | \"middle-middle\";\n\nexport type HintItem = {\n  element?: HTMLElement | string | null;\n  tooltipClass?: string;\n  position: TooltipPosition;\n  hint?: string;\n  hintTargetElement?: HTMLElement;\n  hintAnimation?: boolean;\n  hintPosition: HintPosition;\n};\n\nexport const fetchHintItems = (hint: Hint) => {\n  hint.setHints([]);\n\n  const targetElement = hint.getTargetElement();\n  const hints = hint.getOption(\"hints\");\n\n  if (hints && hints.length > 0) {\n    for (const _hint of hints) {\n      const hintItem = cloneObject(_hint);\n\n      if (typeof hintItem.element === \"string\") {\n        // grab the element with given selector from the page\n        hintItem.element = queryElement(hintItem.element);\n      }\n\n      hintItem.hintPosition =\n        hintItem.hintPosition || hint.getOption(\"hintPosition\");\n      hintItem.hintAnimation =\n        hintItem.hintAnimation || hint.getOption(\"hintAnimation\");\n\n      if (hintItem.element !== null) {\n        hint.addHint(hintItem as HintItem);\n      }\n    }\n  } else {\n    const elements = Array.from(\n      queryElements(`*[${dataHintAttribute}]`, targetElement)\n    );\n\n    if (!elements || !elements.length) {\n      return false;\n    }\n\n    //first add intro items with data-step\n    for (const element of elements) {\n      // hint animation\n      let hintAnimationAttr = element.getAttribute(dataHintPositionAttribute);\n\n      let hintAnimation: boolean = hint.getOption(\"hintAnimation\");\n      if (hintAnimationAttr) {\n        hintAnimation = hintAnimationAttr === \"true\";\n      }\n\n      hint.addHint({\n        element: element,\n        hint: element.getAttribute(dataHintAttribute) || \"\",\n        hintPosition: (element.getAttribute(dataHintPositionAttribute) ||\n          hint.getOption(\"hintPosition\")) as HintPosition,\n        hintAnimation,\n        tooltipClass:\n          element.getAttribute(dataTooltipClassAttribute) || undefined,\n        position: (element.getAttribute(\"data-position\") ||\n          hint.getOption(\"tooltipPosition\")) as TooltipPosition,\n      });\n    }\n  }\n\n  return true;\n};\n","export function setOption<T, K extends keyof T>(\n  options: T,\n  key: K,\n  value: T[K]\n): T {\n  options[key] = value;\n  return options;\n}\n\nexport function setOptions<T>(options: T, partialOptions: Partial<T>): T {\n  for (const [key, value] of Object.entries(partialOptions)) {\n    options = setOption(options, key as keyof T, value as T[keyof T]);\n  }\n  return options;\n}\n","// Returns true if the given parameter is a function\nexport default (x: any): x is Function => typeof x === \"function\";\n","/**\n * Get an element CSS property on the page\n * Thanks to JavaScript Kit: http://www.javascriptkit.com/dhtmltutors/dhtmlcascade4.shtml\n *\n * @api private\n * @returns string property value\n */\nexport default function getPropValue(\n  element: HTMLElement,\n  propName: string\n): string {\n  let propValue = \"\";\n  if (\"currentStyle\" in element) {\n    //IE\n    // @ts-ignore\n    propValue = element.currentStyle[propName];\n  } else if (document.defaultView && document.defaultView.getComputedStyle) {\n    //Others\n    propValue = document.defaultView\n      .getComputedStyle(element, null)\n      .getPropertyValue(propName);\n  }\n\n  //Prevent exception in IE\n  if (propValue && propValue.toLowerCase) {\n    return propValue.toLowerCase();\n  } else {\n    return propValue;\n  }\n}\n","import getPropValue from \"./getPropValue\";\n\n/**\n * Checks to see if target element (or parents) position is fixed or not\n *\n * @api private\n */\nexport default function isFixed(element: HTMLElement): boolean {\n  const parent = element.parentElement;\n\n  if (!parent || parent.nodeName === \"HTML\") {\n    return false;\n  }\n\n  if (getPropValue(element, \"position\") === \"fixed\") {\n    return true;\n  }\n\n  return isFixed(parent);\n}\n","import getPropValue from \"./getPropValue\";\nimport isFixed from \"./isFixed\";\n\n/**\n * Get an element position on the page relative to another element (or body)\n * Thanks to `meouw`: http://stackoverflow.com/a/442474/375966\n *\n * @api private\n * @returns Element's position info\n */\nexport default function getOffset(\n  element: HTMLElement,\n  relativeEl?: HTMLElement\n): { width: number; height: number; left: number; top: number } {\n  const body = document.body;\n  const docEl = document.documentElement;\n  const scrollTop = window.pageYOffset || docEl.scrollTop || body.scrollTop;\n  const scrollLeft = window.pageXOffset || docEl.scrollLeft || body.scrollLeft;\n\n  relativeEl = relativeEl || body;\n\n  const x = element.getBoundingClientRect();\n  const xr = relativeEl.getBoundingClientRect();\n  const relativeElPosition = getPropValue(relativeEl, \"position\");\n\n  let obj = {\n    width: x.width,\n    height: x.height,\n  };\n\n  if (\n    (relativeEl.tagName.toLowerCase() !== \"body\" &&\n      relativeElPosition === \"relative\") ||\n    relativeElPosition === \"sticky\"\n  ) {\n    // when the container of our target element is _not_ body and has either \"relative\" or \"sticky\" position, we should not\n    // consider the scroll position but we need to include the relative x/y of the container element\n    return Object.assign(obj, {\n      top: x.top - xr.top,\n      left: x.left - xr.left,\n    });\n  } else {\n    if (isFixed(element)) {\n      return Object.assign(obj, {\n        top: x.top,\n        left: x.left,\n      });\n    } else {\n      return Object.assign(obj, {\n        top: x.top + scrollTop,\n        left: x.left + scrollLeft,\n      });\n    }\n  }\n}\n","import getOffset from \"../../util/getOffset\";\nimport { HintPosition } from \"./hintItem\";\nimport { Hint } from \"./hint\";\n\n/**\n * Aligns hint position\n *\n * @api private\n */\nexport const alignHintPosition = (\n  position: HintPosition,\n  hintElement: HTMLElement,\n  targetElement?: HTMLElement\n) => {\n  if (typeof targetElement === \"undefined\") {\n    return;\n  }\n\n  // get/calculate offset of target element\n  const offset = getOffset(targetElement);\n  const iconWidth = 20;\n  const iconHeight = 20;\n\n  // align the hint element\n  switch (position) {\n    default:\n    case \"top-left\":\n      hintElement.style.left = `${offset.left}px`;\n      hintElement.style.top = `${offset.top}px`;\n      break;\n    case \"top-right\":\n      hintElement.style.left = `${offset.left + offset.width - iconWidth}px`;\n      hintElement.style.top = `${offset.top}px`;\n      break;\n    case \"bottom-left\":\n      hintElement.style.left = `${offset.left}px`;\n      hintElement.style.top = `${offset.top + offset.height - iconHeight}px`;\n      break;\n    case \"bottom-right\":\n      hintElement.style.left = `${offset.left + offset.width - iconWidth}px`;\n      hintElement.style.top = `${offset.top + offset.height - iconHeight}px`;\n      break;\n    case \"middle-left\":\n      hintElement.style.left = `${offset.left}px`;\n      hintElement.style.top = `${\n        offset.top + (offset.height - iconHeight) / 2\n      }px`;\n      break;\n    case \"middle-right\":\n      hintElement.style.left = `${offset.left + offset.width - iconWidth}px`;\n      hintElement.style.top = `${\n        offset.top + (offset.height - iconHeight) / 2\n      }px`;\n      break;\n    case \"middle-middle\":\n      hintElement.style.left = `${\n        offset.left + (offset.width - iconWidth) / 2\n      }px`;\n      hintElement.style.top = `${\n        offset.top + (offset.height - iconHeight) / 2\n      }px`;\n      break;\n    case \"bottom-middle\":\n      hintElement.style.left = `${\n        offset.left + (offset.width - iconWidth) / 2\n      }px`;\n      hintElement.style.top = `${offset.top + offset.height - iconHeight}px`;\n      break;\n    case \"top-middle\":\n      hintElement.style.left = `${\n        offset.left + (offset.width - iconWidth) / 2\n      }px`;\n      hintElement.style.top = `${offset.top}px`;\n      break;\n  }\n};\n\n/**\n * Re-aligns all hint elements\n *\n * @api private\n */\nexport function reAlignHints(hint: Hint) {\n  for (const { hintTargetElement, hintPosition, element } of hint.getHints()) {\n    alignHintPosition(hintPosition, element as HTMLElement, hintTargetElement);\n  }\n}\n","/**\n * DOMEvent Handles all DOM events\n *\n * methods:\n *\n * on - add event handler\n * off - remove event\n */\n\ninterface Events {\n  keydown: KeyboardEvent;\n  resize: Event;\n  scroll: Event;\n  click: MouseEvent;\n}\n\ntype Listener<T> = (e: T) => void | undefined | string | Promise<string | void>;\n\nclass DOMEvent {\n  /**\n   * Adds event listener\n   */\n  public on<T extends keyof Events>(\n    obj: EventTarget,\n    type: T,\n    listener: Listener<Events[T]>,\n    useCapture: boolean\n  ) {\n    if (\"addEventListener\" in obj) {\n      obj.addEventListener(type, listener, useCapture);\n    } else if (\"attachEvent\" in obj) {\n      (obj as any).attachEvent(`on${type}`, listener);\n    }\n  }\n\n  /**\n   * Removes event listener\n   */\n  public off<T extends keyof Events>(\n    obj: EventTarget,\n    type: T,\n    listener: Listener<Events[T]>,\n    useCapture: boolean\n  ) {\n    if (\"removeEventListener\" in obj) {\n      obj.removeEventListener(type, listener, useCapture);\n    } else if (\"detachEvent\" in obj) {\n      (obj as any).detachEvent(`on${type}`, listener);\n    }\n  }\n}\n\nexport default new DOMEvent();\n","import { getElement } from \"./queryElement\";\n\n/**\n * Given an element or a selector, tries to find the appropriate container element.\n */\nexport const getContainerElement = (\n  elementOrSelector?: string | HTMLElement\n) => {\n  if (!elementOrSelector) {\n    return document.body;\n  }\n\n  if (typeof elementOrSelector === \"string\") {\n    return getElement(elementOrSelector);\n  }\n\n  return elementOrSelector;\n};\n","export const hintsClassName = \"introjs-hints\";\nexport const hintClassName = \"introjs-hint\";\nexport const arrowClassName = \"introjs-arrow\";\nexport const tooltipClassName = \"introjs-tooltip\";\nexport const hideHintClassName = \"introjs-hidehint\";\nexport const tooltipReferenceLayerClassName = \"introjs-tooltipReferenceLayer\";\nexport const tooltipTextClassName = \"introjs-tooltiptext\";\nexport const hintReferenceClassName = \"introjs-hintReference\";\nexport const hintNoAnimationClassName = \"introjs-hint-no-anim\";\nexport const fixedHintClassName = \"introjs-fixedhint\";\nexport const hintDotClassName = \"introjs-hint-dot\";\nexport const hintPulseClassName = \"introjs-hint-pulse\";\n","/**\n * Sets the style of an DOM element\n */\nexport default function setStyle(\n  element: HTMLElement,\n  style: string | { [key: string]: string | number }\n) {\n  let cssText = \"\";\n\n  if (element.style.cssText) {\n    cssText += element.style.cssText;\n  }\n\n  if (typeof style === \"string\") {\n    cssText += style;\n  } else {\n    for (const rule in style) {\n      cssText += `${rule}:${style[rule]};`;\n    }\n  }\n\n  element.style.cssText = cssText;\n}\n","import setStyle from \"./setStyle\";\n\n/**\n * Create a DOM element with various attributes\n */\nexport default function _createElement<K extends keyof HTMLElementTagNameMap>(\n  tagName: K,\n  attrs?: { [key: string]: string | Function }\n): HTMLElementTagNameMap[K] {\n  let element = document.createElement<K>(tagName);\n\n  attrs = attrs || {};\n\n  // regex for matching attributes that need to be set with setAttribute\n  const setAttRegex = /^(?:role|data-|aria-)/;\n\n  for (const k in attrs) {\n    let v = attrs[k];\n\n    if (k === \"style\" && typeof v !== \"function\") {\n      setStyle(element, v);\n    } else if (typeof v === \"string\" && k.match(setAttRegex)) {\n      element.setAttribute(k, v);\n    } else {\n      // @ts-ignore\n      element[k] = v;\n    }\n  }\n\n  return element;\n}\n","/**\n * Setting anchors to behave like buttons\n *\n * @api private\n */\nexport default function setAnchorAsButton(anchor: HTMLElement) {\n  anchor.setAttribute(\"role\", \"button\");\n  anchor.tabIndex = 0;\n}\n","/**\n * Append CSS classes to an element\n * @api private\n */\nexport const addClass = (\n  element: HTMLElement | SVGElement,\n  ...classNames: string[]\n) => {\n  for (const className of classNames) {\n    if (element instanceof SVGElement) {\n      // svg\n      const pre = element.getAttribute(\"class\") || \"\";\n\n      if (!pre.match(className)) {\n        // check if element doesn't already have className\n        setClass(element, pre, className);\n      }\n    } else {\n      if (element.classList !== undefined) {\n        // check for modern classList property\n        element.classList.add(className);\n      } else if (!element.className.match(className)) {\n        // check if element doesn't already have className\n        setClass(element, element.className, className);\n      }\n    }\n  }\n};\n\n/**\n * Set CSS classes to an element\n * @param element element to set class\n * @param classNames list of class names\n */\nexport const setClass = (\n  element: HTMLElement | SVGElement,\n  ...classNames: string[]\n) => {\n  const className = classNames.filter(Boolean).join(\" \");\n\n  if (element instanceof SVGElement) {\n    element.setAttribute(\"class\", className);\n  } else {\n    if (element.classList !== undefined) {\n      element.classList.value = className;\n    } else {\n      element.className = className;\n    }\n  }\n};\n\n/**\n * Remove a class from an element\n *\n * @api private\n */\nexport const removeClass = (\n  element: HTMLElement | SVGElement,\n  classNameRegex: RegExp | string\n) => {\n  if (element instanceof SVGElement) {\n    const pre = element.getAttribute(\"class\") || \"\";\n\n    element.setAttribute(\n      \"class\",\n      pre.replace(classNameRegex, \"\").replace(/\\s\\s+/g, \" \").trim()\n    );\n  } else {\n    element.className = element.className\n      .replace(classNameRegex, \"\")\n      .replace(/\\s\\s+/g, \" \")\n      .trim();\n  }\n};\n","import {\n  queryElementByClassName,\n  queryElementsByClassName,\n} from \"../../util/queryElement\";\nimport { hintClassName, hintsClassName } from \"./className\";\nimport { dataStepAttribute } from \"./dataAttributes\";\n\nconst hintsContainer = () => queryElementByClassName(hintsClassName);\n\nexport const hintElements = () =>\n  queryElementsByClassName(hintClassName, hintsContainer());\n\nexport const hintElement = (stepId: number) =>\n  queryElementsByClassName(\n    `${hintClassName}[${dataStepAttribute}=\"${stepId}\"]`,\n    hintsContainer()\n  )[0];\n","import { Hint } from \"./hint\";\nimport { hideHintClassName } from \"./className\";\nimport { addClass } from \"../../util/className\";\nimport { removeHintTooltip } from \"./tooltip\";\nimport { dataStepAttribute } from \"./dataAttributes\";\nimport { hintElement, hintElements } from \"./selector\";\n\n/**\n * Hide a hint\n *\n * @api private\n */\nexport async function hideHint(hint: Hint, stepId: number) {\n  const element = hintElement(stepId);\n\n  removeHintTooltip();\n\n  if (element) {\n    addClass(element, hideHintClassName);\n  }\n\n  // call the callback function (if any)\n  hint.callback(\"hintClose\")?.call(hint, stepId);\n}\n\n/**\n * Hide all hints\n *\n * @api private\n */\nexport async function hideHints(hint: Hint) {\n  const elements = hintElements();\n\n  for (const hintElement of Array.from(elements)) {\n    const step = hintElement.getAttribute(dataStepAttribute);\n\n    if (!step) continue;\n\n    await hideHint(hint, parseInt(step, 10));\n  }\n}\n","import getOffset from \"./getOffset\";\nimport isFixed from \"./isFixed\";\nimport { removeClass, addClass } from \"./className\";\nimport setStyle from \"./setStyle\";\n\n/**\n * Sets the position of the element relative to the target element\n * @api private\n */\nexport const setPositionRelativeTo = (\n  relativeElement: HTMLElement,\n  element: HTMLElement,\n  targetElement: HTMLElement,\n  padding: number\n) => {\n  if (!element || !relativeElement || !targetElement) {\n    return;\n  }\n\n  // If the target element is fixed, the tooltip should be fixed as well.\n  // Otherwise, remove a fixed class that may be left over from the previous\n  // step.\n  if (targetElement instanceof Element && isFixed(targetElement)) {\n    addClass(element, \"introjs-fixedTooltip\");\n  } else {\n    removeClass(element, \"introjs-fixedTooltip\");\n  }\n\n  const position = getOffset(targetElement, relativeElement);\n\n  //set new position to helper layer\n  setStyle(element, {\n    width: `${position.width + padding}px`,\n    height: `${position.height + padding}px`,\n    top: `${position.top - padding / 2}px`,\n    left: `${position.left - padding / 2}px`,\n  });\n};\n","/**\n * Provides a cross-browser way to get the screen dimensions\n * via: http://stackoverflow.com/questions/5864467/internet-explorer-innerheight\n *\n * @api private\n */\nexport default function getWinSize(): { width: number; height: number } {\n  if (window.innerWidth !== undefined) {\n    return { width: window.innerWidth, height: window.innerHeight };\n  } else {\n    const D = document.documentElement;\n    return { width: D.clientWidth, height: D.clientHeight };\n  }\n}\n","/**\n * Set tooltip left so it doesn't go off the right side of the window\n *\n * @return boolean true, if tooltipLayerStyleLeft is ok.  false, otherwise.\n */\nexport default function checkRight(\n  targetOffset: {\n    top: number;\n    left: number;\n    width: number;\n    height: number;\n  },\n  tooltipLayerStyleLeft: number,\n  tooltipOffset: {\n    top: number;\n    left: number;\n    width: number;\n    height: number;\n  },\n  windowSize: {\n    width: number;\n    height: number;\n  },\n  tooltipLayer: HTMLElement\n): boolean {\n  if (\n    targetOffset.left + tooltipLayerStyleLeft + tooltipOffset.width >\n    windowSize.width\n  ) {\n    // off the right side of the window\n    tooltipLayer.style.left = `${\n      windowSize.width - tooltipOffset.width - targetOffset.left\n    }px`;\n\n    return false;\n  }\n\n  tooltipLayer.style.left = `${tooltipLayerStyleLeft}px`;\n  return true;\n}\n","/**\n * Set tooltip right so it doesn't go off the left side of the window\n *\n * @return boolean true, if tooltipLayerStyleRight is ok. false, otherwise.\n */\nexport default function checkLeft(\n  targetOffset: {\n    top: number;\n    left: number;\n    width: number;\n    height: number;\n  },\n  tooltipLayerStyleRight: number,\n  tooltipOffset: {\n    top: number;\n    left: number;\n    width: number;\n    height: number;\n  },\n  tooltipLayer: HTMLElement\n): boolean {\n  if (\n    targetOffset.left +\n      targetOffset.width -\n      tooltipLayerStyleRight -\n      tooltipOffset.width <\n    0\n  ) {\n    // off the left side of the window\n    tooltipLayer.style.left = `${-targetOffset.left}px`;\n    return false;\n  }\n  tooltipLayer.style.right = `${tooltipLayerStyleRight}px`;\n  return true;\n}\n","/**\n * Remove an entry from a string array if it's there, does nothing if it isn't there.\n */\nexport default function removeEntry<K>(stringArray: K[], stringToRemove: K) {\n  if (stringArray.includes(stringToRemove)) {\n    stringArray.splice(stringArray.indexOf(stringToRemove), 1);\n  }\n}\n","import getOffset from \"../../util/getOffset\";\nimport getWindowSize from \"../../util/getWindowSize\";\nimport { addClass, setClass } from \"../../util/className\";\nimport checkRight from \"../../util/checkRight\";\nimport checkLeft from \"../../util/checkLeft\";\nimport removeEntry from \"../../util/removeEntry\";\nimport { TooltipPosition } from \"./tooltipPosition\";\n\n/**\n * auto-determine alignment\n */\nfunction _determineAutoAlignment(\n  offsetLeft: number,\n  tooltipWidth: number,\n  windowWidth: number,\n  desiredAlignment: TooltipPosition[]\n): TooltipPosition | null {\n  const halfTooltipWidth = tooltipWidth / 2;\n  const winWidth = Math.min(windowWidth, window.screen.width);\n\n  // valid left must be at least a tooltipWidth\n  // away from right side\n  if (winWidth - offsetLeft < tooltipWidth) {\n    removeEntry<TooltipPosition>(desiredAlignment, \"top-left-aligned\");\n    removeEntry<TooltipPosition>(desiredAlignment, \"bottom-left-aligned\");\n  }\n\n  // valid middle must be at least half\n  // width away from both sides\n  if (\n    offsetLeft < halfTooltipWidth ||\n    winWidth - offsetLeft < halfTooltipWidth\n  ) {\n    removeEntry<TooltipPosition>(desiredAlignment, \"top-middle-aligned\");\n    removeEntry<TooltipPosition>(desiredAlignment, \"bottom-middle-aligned\");\n  }\n\n  // valid right must be at least a tooltipWidth\n  // width away from left side\n  if (offsetLeft < tooltipWidth) {\n    removeEntry<TooltipPosition>(desiredAlignment, \"top-right-aligned\");\n    removeEntry<TooltipPosition>(desiredAlignment, \"bottom-right-aligned\");\n  }\n\n  if (desiredAlignment.length) {\n    return desiredAlignment[0];\n  }\n\n  return null;\n}\n\n/**\n * Determines the position of the tooltip based on the position precedence and availability\n * of screen space.\n */\nfunction _determineAutoPosition(\n  positionPrecedence: TooltipPosition[],\n  targetElement: HTMLElement,\n  tooltipLayer: HTMLElement,\n  desiredTooltipPosition: TooltipPosition\n): TooltipPosition {\n  // Take a clone of position precedence. These will be the available\n  const possiblePositions = positionPrecedence.slice();\n\n  const windowSize = getWindowSize();\n  const tooltipHeight = getOffset(tooltipLayer).height + 10;\n  const tooltipWidth = getOffset(tooltipLayer).width + 20;\n  const targetElementRect = targetElement.getBoundingClientRect();\n\n  // If we check all the possible areas, and there are no valid places for the tooltip, the element\n  // must take up most of the screen real estate. Show the tooltip floating in the middle of the screen.\n  let calculatedPosition: TooltipPosition = \"floating\";\n\n  /*\n   * auto determine position\n   */\n\n  // Check for space below\n  if (targetElementRect.bottom + tooltipHeight > windowSize.height) {\n    removeEntry<TooltipPosition>(possiblePositions, \"bottom\");\n  }\n\n  // Check for space above\n  if (targetElementRect.top - tooltipHeight < 0) {\n    removeEntry<TooltipPosition>(possiblePositions, \"top\");\n  }\n\n  // Check for space to the right\n  if (targetElementRect.right + tooltipWidth > windowSize.width) {\n    removeEntry<TooltipPosition>(possiblePositions, \"right\");\n  }\n\n  // Check for space to the left\n  if (targetElementRect.left - tooltipWidth < 0) {\n    removeEntry<TooltipPosition>(possiblePositions, \"left\");\n  }\n\n  // strip alignment from position\n  if (desiredTooltipPosition) {\n    // ex: \"bottom-right-aligned\"\n    // should return 'bottom'\n    desiredTooltipPosition = desiredTooltipPosition.split(\n      \"-\"\n    )[0] as TooltipPosition;\n  }\n\n  if (possiblePositions.length) {\n    // Pick the first valid position, in order\n    calculatedPosition = possiblePositions[0];\n\n    if (possiblePositions.includes(desiredTooltipPosition)) {\n      // If the requested position is in the list, choose that\n      calculatedPosition = desiredTooltipPosition;\n    }\n  }\n\n  // only \"top\" and \"bottom\" positions have optional alignments\n  if (calculatedPosition === \"top\" || calculatedPosition === \"bottom\") {\n    let defaultAlignment: TooltipPosition;\n    let desiredAlignment: TooltipPosition[] = [];\n\n    if (calculatedPosition === \"top\") {\n      // if screen width is too small\n      // for ANY alignment, middle is\n      // probably the best for visibility\n      defaultAlignment = \"top-middle-aligned\";\n\n      desiredAlignment = [\n        \"top-left-aligned\",\n        \"top-middle-aligned\",\n        \"top-right-aligned\",\n      ];\n    } else {\n      defaultAlignment = \"bottom-middle-aligned\";\n\n      desiredAlignment = [\n        \"bottom-left-aligned\",\n        \"bottom-middle-aligned\",\n        \"bottom-right-aligned\",\n      ];\n    }\n\n    calculatedPosition =\n      _determineAutoAlignment(\n        targetElementRect.left,\n        tooltipWidth,\n        windowSize.width,\n        desiredAlignment\n      ) || defaultAlignment;\n  }\n\n  return calculatedPosition;\n}\n\n/**\n * Render tooltip box in the page\n *\n * @api private\n */\nexport const placeTooltip = (\n  tooltipLayer: HTMLElement,\n  arrowLayer: HTMLElement,\n  targetElement: HTMLElement,\n  position: TooltipPosition,\n  positionPrecedence: TooltipPosition[],\n  showStepNumbers = false,\n  autoPosition = true,\n  tooltipClassName = \"\",\n  hintMode: boolean = false\n) => {\n  let tooltipOffset: {\n    top: number;\n    left: number;\n    width: number;\n    height: number;\n  };\n  let targetOffset: {\n    top: number;\n    left: number;\n    width: number;\n    height: number;\n  };\n  let windowSize: { width: number; height: number };\n\n  //reset the old style\n  tooltipLayer.style.top = \"\";\n  tooltipLayer.style.right = \"\";\n  tooltipLayer.style.bottom = \"\";\n  tooltipLayer.style.left = \"\";\n  tooltipLayer.style.marginLeft = \"\";\n  tooltipLayer.style.marginTop = \"\";\n\n  arrowLayer.style.display = \"inherit\";\n\n  setClass(tooltipLayer, \"introjs-tooltip\", tooltipClassName);\n\n  tooltipLayer.setAttribute(\"role\", \"dialog\");\n\n  // Floating is always valid, no point in calculating\n  if (position !== \"floating\" && autoPosition) {\n    position = _determineAutoPosition(\n      positionPrecedence,\n      targetElement,\n      tooltipLayer,\n      position\n    );\n  }\n\n  let tooltipLayerStyleLeft: number;\n  targetOffset = getOffset(targetElement as HTMLElement);\n  tooltipOffset = getOffset(tooltipLayer);\n  windowSize = getWindowSize();\n\n  addClass(tooltipLayer, `introjs-${position}`);\n\n  let tooltipLayerStyleLeftRight =\n    targetOffset.width / 2 - tooltipOffset.width / 2;\n\n  switch (position) {\n    case \"top-right-aligned\":\n      setClass(arrowLayer, \"introjs-arrow bottom-right\");\n\n      let tooltipLayerStyleRight = 0;\n      checkLeft(\n        targetOffset,\n        tooltipLayerStyleRight,\n        tooltipOffset,\n        tooltipLayer\n      );\n      tooltipLayer.style.bottom = `${targetOffset.height + 20}px`;\n      break;\n\n    case \"top-middle-aligned\":\n      setClass(arrowLayer, \"introjs-arrow bottom-middle\");\n\n      // a fix for middle aligned hints\n      if (hintMode) {\n        tooltipLayerStyleLeftRight += 5;\n      }\n\n      if (\n        checkLeft(\n          targetOffset,\n          tooltipLayerStyleLeftRight,\n          tooltipOffset,\n          tooltipLayer\n        )\n      ) {\n        tooltipLayer.style.right = \"\";\n        checkRight(\n          targetOffset,\n          tooltipLayerStyleLeftRight,\n          tooltipOffset,\n          windowSize,\n          tooltipLayer\n        );\n      }\n      tooltipLayer.style.bottom = `${targetOffset.height + 20}px`;\n      break;\n\n    case \"top-left-aligned\":\n    // top-left-aligned is the same as the default top\n    case \"top\":\n      setClass(arrowLayer, \"introjs-arrow bottom\");\n\n      tooltipLayerStyleLeft = hintMode ? 0 : 15;\n\n      checkRight(\n        targetOffset,\n        tooltipLayerStyleLeft,\n        tooltipOffset,\n        windowSize,\n        tooltipLayer\n      );\n      tooltipLayer.style.bottom = `${targetOffset.height + 20}px`;\n      break;\n    case \"right\":\n      tooltipLayer.style.left = `${targetOffset.width + 20}px`;\n      if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n        // In this case, right would have fallen below the bottom of the screen.\n        // Modify so that the bottom of the tooltip connects with the target\n        setClass(arrowLayer, \"introjs-arrow left-bottom\");\n        tooltipLayer.style.top = `-${\n          tooltipOffset.height - targetOffset.height - 20\n        }px`;\n      } else {\n        setClass(arrowLayer, \"introjs-arrow left\");\n      }\n      break;\n    case \"left\":\n      if (!hintMode && showStepNumbers === true) {\n        tooltipLayer.style.top = \"15px\";\n      }\n\n      if (targetOffset.top + tooltipOffset.height > windowSize.height) {\n        // In this case, left would have fallen below the bottom of the screen.\n        // Modify so that the bottom of the tooltip connects with the target\n        tooltipLayer.style.top = `-${\n          tooltipOffset.height - targetOffset.height - 20\n        }px`;\n        setClass(arrowLayer, \"introjs-arrow right-bottom\");\n      } else {\n        setClass(arrowLayer, \"introjs-arrow right\");\n      }\n      tooltipLayer.style.right = `${targetOffset.width + 20}px`;\n\n      break;\n    case \"floating\":\n      arrowLayer.style.display = \"none\";\n\n      //we have to adjust the top and left of layer manually for intro items without element\n      tooltipLayer.style.left = \"50%\";\n      tooltipLayer.style.top = \"50%\";\n      tooltipLayer.style.marginLeft = `-${tooltipOffset.width / 2}px`;\n      tooltipLayer.style.marginTop = `-${tooltipOffset.height / 2}px`;\n\n      break;\n    case \"bottom-right-aligned\":\n      setClass(arrowLayer, \"introjs-arrow top-right\");\n\n      tooltipLayerStyleRight = 0;\n      checkLeft(\n        targetOffset,\n        tooltipLayerStyleRight,\n        tooltipOffset,\n        tooltipLayer\n      );\n      tooltipLayer.style.top = `${targetOffset.height + 20}px`;\n      break;\n\n    case \"bottom-middle-aligned\":\n      setClass(arrowLayer, \"introjs-arrow top-middle\");\n\n      // a fix for middle aligned hints\n      if (hintMode) {\n        tooltipLayerStyleLeftRight += 5;\n      }\n\n      if (\n        checkLeft(\n          targetOffset,\n          tooltipLayerStyleLeftRight,\n          tooltipOffset,\n          tooltipLayer\n        )\n      ) {\n        tooltipLayer.style.right = \"\";\n        checkRight(\n          targetOffset,\n          tooltipLayerStyleLeftRight,\n          tooltipOffset,\n          windowSize,\n          tooltipLayer\n        );\n      }\n      tooltipLayer.style.top = `${targetOffset.height + 20}px`;\n      break;\n\n    // case 'bottom-left-aligned':\n    // Bottom-left-aligned is the same as the default bottom\n    // case 'bottom':\n    // Bottom going to follow the default behavior\n    default:\n      setClass(arrowLayer, \"introjs-arrow top\");\n\n      tooltipLayerStyleLeft = 0;\n      checkRight(\n        targetOffset,\n        tooltipLayerStyleLeft,\n        tooltipOffset,\n        windowSize,\n        tooltipLayer\n      );\n      tooltipLayer.style.top = `${targetOffset.height + 20}px`;\n  }\n};\n","import { queryElement, queryElementByClassName } from \"../../util/queryElement\";\nimport {\n  arrowClassName,\n  hintClassName,\n  hintReferenceClassName,\n  tooltipClassName,\n  tooltipReferenceLayerClassName,\n  tooltipTextClassName,\n} from \"./className\";\nimport { dataStepAttribute } from \"./dataAttributes\";\nimport { Hint } from \"./hint\";\nimport createElement from \"../../util/createElement\";\nimport { setClass } from \"../../util/className\";\nimport { hideHint } from \"./hide\";\nimport { setPositionRelativeTo } from \"../../util/setPositionRelativeTo\";\nimport { placeTooltip } from \"../../packages/tooltip\";\nimport DOMEvent from \"../../util/DOMEvent\";\n\n// The hint close function used when the user clicks outside the hint\nlet _hintCloseFunction: () => void | undefined;\n\n/**\n * Removes open hint (tooltip hint)\n *\n * @api private\n */\nexport function removeHintTooltip(): string | undefined {\n  const tooltip = queryElementByClassName(hintReferenceClassName);\n\n  if (tooltip && tooltip.parentNode) {\n    const step = tooltip.getAttribute(dataStepAttribute);\n    if (!step) return undefined;\n\n    tooltip.parentNode.removeChild(tooltip);\n\n    return step;\n  }\n\n  return undefined;\n}\n\n/**\n * Triggers when user clicks on the hint element\n *\n * @api private\n */\nexport async function showHintDialog(hint: Hint, stepId: number) {\n  const hintElement = queryElement(\n    `.${hintClassName}[${dataStepAttribute}=\"${stepId}\"]`\n  );\n\n  const item = hint.getHint(stepId);\n\n  if (!hintElement || !item) return;\n\n  // call the callback function (if any)\n  await hint.callback(\"hintClick\")?.call(hint, hintElement, item, stepId);\n\n  // remove all open tooltips\n  const removedStep = removeHintTooltip();\n\n  // to toggle the tooltip\n  if (removedStep !== undefined && parseInt(removedStep, 10) === stepId) {\n    return;\n  }\n\n  const tooltipLayer = createElement(\"div\", {\n    className: tooltipClassName,\n  });\n  const tooltipTextLayer = createElement(\"div\");\n  const arrowLayer = createElement(\"div\");\n  const referenceLayer = createElement(\"div\");\n\n  tooltipLayer.onclick = (e: Event) => {\n    //IE9 & Other Browsers\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n    //IE8 and Lower\n    else {\n      e.cancelBubble = true;\n    }\n  };\n\n  setClass(tooltipTextLayer, tooltipTextClassName);\n\n  const tooltipWrapper = createElement(\"p\");\n  tooltipWrapper.innerHTML = item.hint || \"\";\n  tooltipTextLayer.appendChild(tooltipWrapper);\n\n  if (hint.getOption(\"hintShowButton\")) {\n    const closeButton = createElement(\"a\");\n    closeButton.className = hint.getOption(\"buttonClass\");\n    closeButton.setAttribute(\"role\", \"button\");\n    closeButton.innerHTML = hint.getOption(\"hintButtonLabel\");\n    closeButton.onclick = () => hideHint(hint, stepId);\n    tooltipTextLayer.appendChild(closeButton);\n  }\n\n  setClass(arrowLayer, arrowClassName);\n  tooltipLayer.appendChild(arrowLayer);\n\n  tooltipLayer.appendChild(tooltipTextLayer);\n\n  const step = hintElement.getAttribute(dataStepAttribute) || \"\";\n\n  // set current step for _placeTooltip function\n  const hintItem = hint.getHint(parseInt(step, 10));\n\n  if (!hintItem) return;\n\n  // align reference layer position\n  setClass(\n    referenceLayer,\n    tooltipReferenceLayerClassName,\n    hintReferenceClassName\n  );\n  referenceLayer.setAttribute(dataStepAttribute, step);\n\n  const helperLayerPadding = hint.getOption(\"helperElementPadding\");\n  setPositionRelativeTo(\n    hint.getTargetElement(),\n    referenceLayer,\n    hintItem.element as HTMLElement,\n    helperLayerPadding\n  );\n\n  referenceLayer.appendChild(tooltipLayer);\n  document.body.appendChild(referenceLayer);\n\n  // set proper position\n  placeTooltip(\n    tooltipLayer,\n    arrowLayer,\n    hintItem.element as HTMLElement,\n    hintItem.position,\n    hint.getOption(\"positionPrecedence\"),\n    // hints don't have step numbers\n    false,\n    hint.getOption(\"autoPosition\"),\n    hintItem.tooltipClass ?? hint.getOption(\"tooltipClass\")\n  );\n\n  _hintCloseFunction = () => {\n    removeHintTooltip();\n    DOMEvent.off(document, \"click\", _hintCloseFunction, false);\n  };\n\n  DOMEvent.on(document, \"click\", _hintCloseFunction, false);\n}\n","import { queryElement, queryElementByClassName } from \"../../util/queryElement\";\nimport { Hint } from \"./hint\";\nimport { HintPosition } from \"./hintItem\";\nimport {\n  fixedHintClassName,\n  hintClassName,\n  hintDotClassName,\n  hintNoAnimationClassName,\n  hintPulseClassName,\n  hintsClassName,\n} from \"./className\";\nimport createElement from \"../../util/createElement\";\nimport { dataStepAttribute } from \"./dataAttributes\";\nimport setAnchorAsButton from \"../../util/setAnchorAsButton\";\nimport { addClass } from \"../../util/className\";\nimport isFixed from \"../../util/isFixed\";\nimport { alignHintPosition } from \"./position\";\nimport { showHintDialog } from \"./tooltip\";\n\n/**\n * Returns an event handler unique to the hint iteration\n */\nconst getHintClick = (hint: Hint, i: number) => (e: Event) => {\n  const evt = e ? e : window.event;\n\n  if (evt && evt.stopPropagation) {\n    evt.stopPropagation();\n  }\n\n  if (evt && evt.cancelBubble !== null) {\n    evt.cancelBubble = true;\n  }\n\n  showHintDialog(hint, i);\n};\n\n/**\n * Add all available hints to the page\n *\n * @api private\n */\nexport async function renderHints(hint: Hint) {\n  let hintsWrapper = queryElementByClassName(hintsClassName);\n\n  if (hintsWrapper === null) {\n    hintsWrapper = createElement(\"div\", {\n      className: hintsClassName,\n    });\n  }\n\n  const hints = hint.getHints();\n  for (let i = 0; i < hints.length; i++) {\n    const hintItem = hints[i];\n\n    // avoid append a hint twice\n    if (queryElement(`.${hintClassName}[${dataStepAttribute}=\"${i}\"]`)) {\n      return;\n    }\n\n    const hintElement = createElement(\"a\", {\n      className: hintClassName,\n    });\n    setAnchorAsButton(hintElement);\n\n    hintElement.onclick = getHintClick(hint, i);\n\n    if (!hintItem.hintAnimation) {\n      addClass(hintElement, hintNoAnimationClassName);\n    }\n\n    // hint's position should be fixed if the target element's position is fixed\n    if (isFixed(hintItem.element as HTMLElement)) {\n      addClass(hintElement, fixedHintClassName);\n    }\n\n    const hintDot = createElement(\"div\", {\n      className: hintDotClassName,\n    });\n\n    const hintPulse = createElement(\"div\", {\n      className: hintPulseClassName,\n    });\n\n    hintElement.appendChild(hintDot);\n    hintElement.appendChild(hintPulse);\n    hintElement.setAttribute(dataStepAttribute, i.toString());\n\n    // we swap the hint element with target element\n    // because _setHelperLayerPosition uses `element` property\n    hintItem.hintTargetElement = hintItem.element as HTMLElement;\n    hintItem.element = hintElement;\n\n    // align the hint position\n    alignHintPosition(\n      hintItem.hintPosition as HintPosition,\n      hintElement,\n      hintItem.hintTargetElement as HTMLElement\n    );\n\n    hintsWrapper.appendChild(hintElement);\n  }\n\n  // adding the hints wrapper\n  document.body.appendChild(hintsWrapper);\n\n  // call the callback function (if any)\n  hint.callback(\"hintsAdded\")?.call(hint);\n\n  hint.enableHintAutoRefresh();\n}\n","import { Hint } from \"./hint\";\nimport { hideHintClassName } from \"./className\";\nimport { dataStepAttribute } from \"./dataAttributes\";\nimport { removeClass } from \"../../util/className\";\nimport { hintElement, hintElements } from \"./selector\";\n\n/**\n * Show all hints\n *\n * @api private\n */\nexport async function showHints(hint: Hint) {\n  const elements = hintElements();\n\n  if (elements?.length) {\n    for (const hintElement of Array.from(elements)) {\n      const step = hintElement.getAttribute(dataStepAttribute);\n\n      if (!step) continue;\n\n      showHint(parseInt(step, 10));\n    }\n  } else {\n    // or render hints if there are none\n    await hint.render();\n  }\n}\n\n/**\n * Show a hint\n *\n * @api private\n */\nexport function showHint(stepId: number) {\n  const element = hintElement(stepId);\n\n  if (element) {\n    removeClass(element, new RegExp(hideHintClassName, \"g\"));\n  }\n}\n","import { Hint } from \"./hint\";\nimport { dataStepAttribute } from \"./dataAttributes\";\nimport { hintElement, hintElements } from \"./selector\";\n\n/**\n * Removes all hint elements on the page\n * Useful when you want to destroy the elements and add them again (e.g. a modal or popup)\n *\n * @api private\n */\nexport function removeHints(hint: Hint) {\n  const elements = hintElements();\n\n  for (const hintElement of Array.from(elements)) {\n    const step = hintElement.getAttribute(dataStepAttribute);\n\n    if (step === null) continue;\n\n    removeHint(parseInt(step, 10));\n  }\n\n  hint.disableHintAutoRefresh();\n}\n\n/**\n * Remove one single hint element from the page\n * Useful when you want to destroy the element and add them again (e.g. a modal or popup)\n * Use removeHints if you want to remove all elements.\n *\n * @api private\n */\nexport function removeHint(stepId: number) {\n  const element = hintElement(stepId);\n\n  if (element && element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n}\n","import { Package } from \"../package\";\nimport { getDefaultHintOptions, HintOptions } from \"./option\";\nimport { fetchHintItems, HintItem } from \"./hintItem\";\nimport { setOption, setOptions } from \"../../option\";\nimport isFunction from \"../../util/isFunction\";\nimport debounce from \"../../util/debounce\";\nimport { reAlignHints } from \"./position\";\nimport DOMEvent from \"../../util/DOMEvent\";\nimport { getContainerElement } from \"../../util/containerElement\";\nimport { renderHints } from \"./render\";\nimport { hideHint, hideHints } from \"./hide\";\nimport { showHint, showHints } from \"./show\";\nimport { removeHint, removeHints } from \"./remove\";\nimport { showHintDialog } from \"./tooltip\";\n\ntype hintsAddedCallback = (this: Hint) => void | Promise<void>;\ntype hintClickCallback = (\n  this: Hint,\n  hintElement: HTMLElement,\n  item: HintItem,\n  stepId: number\n) => void | Promise<void>;\ntype hintCloseCallback = (this: Hint, stepId: number) => void | Promise<void>;\n\nexport class Hint implements Package<HintOptions> {\n  private _hints: HintItem[] = [];\n  private readonly _targetElement: HTMLElement;\n  private _options: HintOptions;\n\n  private readonly callbacks: {\n    hintsAdded?: hintsAddedCallback;\n    hintClick?: hintClickCallback;\n    hintClose?: hintCloseCallback;\n  } = {};\n\n  // Event handlers\n  private _hintsAutoRefreshFunction?: () => void;\n\n  /**\n   * Create a new Hint instance\n   * @param elementOrSelector Optional target element or CSS query to start the Hint on\n   * @param options Optional Hint options\n   */\n  public constructor(\n    elementOrSelector?: string | HTMLElement,\n    options?: Partial<HintOptions>\n  ) {\n    this._targetElement = getContainerElement(elementOrSelector);\n    this._options = options\n      ? setOptions(this._options, options)\n      : getDefaultHintOptions();\n  }\n\n  /**\n   * Get the callback function for the provided callback name\n   * @param callbackName The name of the callback\n   */\n  callback<K extends keyof typeof this.callbacks>(\n    callbackName: K\n  ): (typeof this.callbacks)[K] | undefined {\n    const callback = this.callbacks[callbackName];\n    if (isFunction(callback)) {\n      return callback;\n    }\n    return undefined;\n  }\n\n  /**\n   * Get the target element for the Hint\n   */\n  getTargetElement(): HTMLElement {\n    return this._targetElement;\n  }\n\n  /**\n   * Get the Hint items\n   */\n  getHints(): HintItem[] {\n    return this._hints;\n  }\n\n  /**\n   * Get the Hint item for the provided step ID\n   * @param stepId The step ID\n   */\n  getHint(stepId: number): HintItem | undefined {\n    return this._hints[stepId];\n  }\n\n  /**\n   * Set the Hint items\n   * @param hints The Hint items\n   */\n  setHints(hints: HintItem[]): this {\n    this._hints = hints;\n    return this;\n  }\n\n  /**\n   * Add a Hint item\n   * @param hint The Hint item\n   */\n  addHint(hint: HintItem): this {\n    this._hints.push(hint);\n    return this;\n  }\n\n  /**\n   * Render hints on the page\n   */\n  async render(): Promise<this> {\n    if (!this.isActive()) {\n      return this;\n    }\n\n    fetchHintItems(this);\n    await renderHints(this);\n    return this;\n  }\n\n  /**\n   * @deprecated renderHints() is deprecated, please use render() instead\n   */\n  async addHints() {\n    return this.render();\n  }\n\n  /**\n   * Hide a specific hint on the page\n   * @param stepId The hint step ID\n   */\n  async hideHint(stepId: number) {\n    await hideHint(this, stepId);\n    return this;\n  }\n\n  /**\n   * Hide all hints on the page\n   */\n  async hideHints() {\n    await hideHints(this);\n    return this;\n  }\n\n  /**\n   * Show a specific hint on the page\n   * @param stepId The hint step ID\n   */\n  showHint(stepId: number) {\n    showHint(stepId);\n    return this;\n  }\n\n  /**\n   * Show all hints on the page\n   */\n  async showHints() {\n    await showHints(this);\n    return this;\n  }\n\n  /**\n   * Destroys and removes all hint elements on the page\n   * Useful when you want to destroy the elements and add them again (e.g. a modal or popup)\n   */\n  destroy() {\n    removeHints(this);\n    return this;\n  }\n\n  /**\n   * @deprecated removeHints() is deprecated, please use destroy() instead\n   */\n  removeHints() {\n    this.destroy();\n    return this;\n  }\n\n  /**\n   * Remove one single hint element from the page\n   * Useful when you want to destroy the element and add them again (e.g. a modal or popup)\n   * Use removeHints if you want to remove all elements.\n   *\n   * @param stepId The hint step ID\n   */\n  removeHint(stepId: number) {\n    removeHint(stepId);\n    return this;\n  }\n\n  /**\n   * Show hint dialog for a specific hint\n   * @param stepId The hint step ID\n   */\n  async showHintDialog(stepId: number) {\n    await showHintDialog(this, stepId);\n    return this;\n  }\n\n  /**\n   * Enable hint auto refresh on page scroll and resize for hints\n   */\n  enableHintAutoRefresh(): this {\n    const hintAutoRefreshInterval = this.getOption(\"hintAutoRefreshInterval\");\n    if (hintAutoRefreshInterval >= 0) {\n      this._hintsAutoRefreshFunction = debounce(\n        () => reAlignHints(this),\n        hintAutoRefreshInterval\n      );\n\n      DOMEvent.on(window, \"scroll\", this._hintsAutoRefreshFunction, true);\n      DOMEvent.on(window, \"resize\", this._hintsAutoRefreshFunction, true);\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable hint auto refresh on page scroll and resize for hints\n   */\n  disableHintAutoRefresh(): this {\n    if (this._hintsAutoRefreshFunction) {\n      DOMEvent.off(window, \"scroll\", this._hintsAutoRefreshFunction, true);\n      DOMEvent.on(window, \"resize\", this._hintsAutoRefreshFunction, true);\n\n      this._hintsAutoRefreshFunction = undefined;\n    }\n\n    return this;\n  }\n\n  /**\n   * Get specific Hint option\n   * @param key The option key\n   */\n  getOption<K extends keyof HintOptions>(key: K): HintOptions[K] {\n    return this._options[key];\n  }\n\n  /**\n   * Set Hint options\n   * @param partialOptions Hint options\n   */\n  setOptions(partialOptions: Partial<HintOptions>): this {\n    this._options = setOptions(this._options, partialOptions);\n    return this;\n  }\n\n  /**\n   * Set specific Hint option\n   * @param key Option key\n   * @param value Option value\n   */\n  setOption<K extends keyof HintOptions>(key: K, value: HintOptions[K]): this {\n    this._options = setOption(this._options, key, value);\n    return this;\n  }\n\n  /**\n   * Clone the Hint instance\n   */\n  clone(): ThisType<this> {\n    return new Hint(this._targetElement, this._options);\n  }\n\n  /**\n   * Returns true if the Hint is active\n   */\n  isActive(): boolean {\n    return this.getOption(\"isActive\");\n  }\n\n  onHintsAdded(providedCallback: hintsAddedCallback) {\n    if (!isFunction(providedCallback)) {\n      throw new Error(\"Provided callback for onhintsadded was not a function.\");\n    }\n\n    this.callbacks.hintsAdded = providedCallback;\n    return this;\n  }\n\n  /**\n   * @deprecated onhintsadded is deprecated, please use onHintsAdded instead\n   * @param providedCallback callback function\n   */\n  onhintsadded(providedCallback: hintsAddedCallback) {\n    this.onHintsAdded(providedCallback);\n  }\n\n  /**\n   * Callback for when hint items are clicked\n   * @param providedCallback callback function\n   */\n  onHintClick(providedCallback: hintClickCallback) {\n    if (!isFunction(providedCallback)) {\n      throw new Error(\"Provided callback for onhintclick was not a function.\");\n    }\n\n    this.callbacks.hintClick = providedCallback;\n    return this;\n  }\n\n  /**\n   * @deprecated onhintclick is deprecated, please use onHintClick instead\n   * @param providedCallback\n   */\n  onhintclick(providedCallback: hintClickCallback) {\n    this.onHintClick(providedCallback);\n  }\n\n  /**\n   * Callback for when hint items are closed\n   * @param providedCallback callback function\n   */\n  onHintClose(providedCallback: hintCloseCallback) {\n    if (isFunction(providedCallback)) {\n      this.callbacks.hintClose = providedCallback;\n    } else {\n      throw new Error(\"Provided callback for onhintclose was not a function.\");\n    }\n    return this;\n  }\n\n  /**\n   * @deprecated onhintclose is deprecated, please use onHintClose instead\n   * @param providedCallback\n   */\n  onhintclose(providedCallback: hintCloseCallback) {\n    this.onHintClose(providedCallback);\n  }\n}\n","import { TooltipPosition } from \"../../packages/tooltip\";\nimport { HintItem, HintPosition } from \"./hintItem\";\n\nexport interface HintOptions {\n  /* List of all HintItems */\n  hints: Partial<HintItem>[];\n  /* True if the Hint instance is set to active */\n  isActive: boolean;\n  /* Default tooltip box position */\n  tooltipPosition: string;\n  /* Next CSS class for tooltip boxes */\n  tooltipClass: string;\n  /* Default hint position */\n  hintPosition: HintPosition;\n  /* Hint button label */\n  hintButtonLabel: string;\n  /* Display the \"Got it\" button? */\n  hintShowButton: boolean;\n  /* Hints auto-refresh interval in ms (set to -1 to disable) */\n  hintAutoRefreshInterval: number;\n  /* Adding animation to hints? */\n  hintAnimation: boolean;\n  /* additional classes to put on the buttons */\n  buttonClass: string;\n  /* Set how much padding to be used around helper element */\n  helperElementPadding: number;\n  /* To determine the tooltip position automatically based on the window.width/height */\n  autoPosition: boolean;\n  /* Precedence of positions, when auto is enabled */\n  positionPrecedence: TooltipPosition[];\n}\n\nexport function getDefaultHintOptions(): HintOptions {\n  return {\n    hints: [],\n    isActive: true,\n    tooltipPosition: \"bottom\",\n    tooltipClass: \"\",\n    hintPosition: \"top-middle\",\n    hintButtonLabel: \"Got it\",\n    hintShowButton: true,\n    hintAutoRefreshInterval: 10,\n    hintAnimation: true,\n    buttonClass: \"introjs-button\",\n    helperElementPadding: 10,\n    autoPosition: true,\n    positionPrecedence: [\"bottom\", \"top\", \"right\", \"left\"],\n  };\n}\n","export default function debounce(\n  func: Function,\n  timeout: number\n): (...args: any) => void {\n  let timer: number;\n\n  return (...args) => {\n    window.clearTimeout(timer);\n\n    timer = window.setTimeout(() => {\n      func(args);\n    }, timeout);\n  };\n}\n","import getScrollParent from \"./getScrollParent\";\n\n/**\n * scroll a scrollable element to a child element\n */\nexport default function scrollParentToElement(\n  scrollToElement: boolean,\n  targetElement: HTMLElement\n) {\n  if (!scrollToElement) return;\n\n  const parent = getScrollParent(targetElement);\n\n  if (parent === document.body) return;\n\n  parent.scrollTop = targetElement.offsetTop - parent.offsetTop;\n}\n","/**\n * Find the nearest scrollable parent\n * copied from https://stackoverflow.com/questions/35939886/find-first-scrollable-parent\n */\nexport default function getScrollParent(element: HTMLElement): HTMLElement {\n  let style = window.getComputedStyle(element);\n  const excludeStaticParent = style.position === \"absolute\";\n  const overflowRegex = /(auto|scroll)/;\n\n  if (style.position === \"fixed\") return document.body;\n\n  for (\n    let parent: HTMLElement | null = element;\n    (parent = parent.parentElement);\n\n  ) {\n    style = window.getComputedStyle(parent);\n    if (excludeStaticParent && style.position === \"static\") {\n      continue;\n    }\n    if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX))\n      return parent;\n  }\n\n  return document.body;\n}\n","import elementInViewport from \"./elementInViewport\";\nimport getWindowSize from \"./getWindowSize\";\nimport { ScrollTo } from \"../packages/tour/steps\";\n\n/**\n * To change the scroll of `window` after highlighting an element\n *\n * @api private\n */\nexport default function scrollTo(\n  scrollToElement: boolean,\n  scrollTo: ScrollTo,\n  scrollPadding: number,\n  targetElement: HTMLElement,\n  tooltipLayer: HTMLElement\n) {\n  if (scrollTo === \"off\") return;\n  let rect: DOMRect;\n\n  if (!scrollToElement) return;\n\n  if (scrollTo === \"tooltip\") {\n    rect = tooltipLayer.getBoundingClientRect();\n  } else {\n    rect = targetElement.getBoundingClientRect();\n  }\n\n  if (!elementInViewport(targetElement)) {\n    const winHeight = getWindowSize().height;\n    const top = rect.bottom - (rect.bottom - rect.top);\n\n    // TODO (afshinm): do we need scroll padding now?\n    // I have changed the scroll option and now it scrolls the window to\n    // the center of the target element or tooltip.\n\n    if (top < 0 || targetElement.clientHeight > winHeight) {\n      window.scrollBy(\n        0,\n        rect.top - (winHeight / 2 - rect.height / 2) - scrollPadding\n      ); // 30px padding from edge to look nice\n\n      //Scroll down\n    } else {\n      window.scrollBy(\n        0,\n        rect.top - (winHeight / 2 - rect.height / 2) + scrollPadding\n      ); // 30px padding from edge to look nice\n    }\n  }\n}\n","/**\n * Check to see if the element is in the viewport or not\n * http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\n *\n * @api private\n */\nexport default function elementInViewport(el: HTMLElement): boolean {\n  const rect = el.getBoundingClientRect();\n\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom + 80 <= window.innerHeight && // add 80 to get the text right\n    rect.right <= window.innerWidth\n  );\n}\n","export const overlayClassName = \"introjs-overlay\";\nexport const disableInteractionClassName = \"introjs-disableInteraction\";\nexport const bulletsClassName = \"introjs-bullets\";\nexport const progressClassName = \"introjs-progress\";\nexport const progressBarClassName = \"introjs-progressbar\";\nexport const helperLayerClassName = \"introjs-helperLayer\";\nexport const tooltipReferenceLayerClassName = \"introjs-tooltipReferenceLayer\";\nexport const helperNumberLayerClassName = \"introjs-helperNumberLayer\";\nexport const tooltipClassName = \"introjs-tooltip\";\nexport const tooltipHeaderClassName = \"introjs-tooltip-header\";\nexport const tooltipTextClassName = \"introjs-tooltiptext\";\nexport const tooltipTitleClassName = \"introjs-tooltip-title\";\nexport const tooltipButtonsClassName = \"introjs-tooltipbuttons\";\nexport const arrowClassName = \"introjs-arrow\";\nexport const skipButtonClassName = \"introjs-skipbutton\";\nexport const previousButtonClassName = \"introjs-prevbutton\";\nexport const nextButtonClassName = \"introjs-nextbutton\";\nexport const doneButtonClassName = \"introjs-donebutton\";\nexport const dontShowAgainClassName = \"introjs-dontShowAgain\";\nexport const hiddenButtonClassName = \"introjs-hidden\";\nexport const disabledButtonClassName = \"introjs-disabled\";\nexport const fullButtonClassName = \"introjs-fullbutton\";\nexport const activeClassName = \"active\";\nexport const fixedTooltipClassName = \"introjs-fixedTooltip\";\nexport const floatingElementClassName = \"introjsFloatingElement\";\nexport const showElementClassName = \"introjs-showElement\";\n","import { queryElementsByClassName } from \"../../util/queryElement\";\nimport { removeClass } from \"../../util/className\";\nimport { showElementClassName } from \"./classNames\";\n\n/**\n * To remove all show element(s)\n *\n * @api private\n */\nexport default function removeShowElement() {\n  const elms = Array.from(queryElementsByClassName(showElementClassName));\n\n  for (const elm of elms) {\n    removeClass(elm, /introjs-[a-zA-Z]+/g);\n  }\n}\n","import setStyle from \"./setStyle\";\n\n/**\n * Appends `element` to `parentElement`\n */\nexport default function appendChild(\n  parentElement: HTMLElement,\n  element: HTMLElement,\n  animate: boolean = false\n) {\n  if (animate) {\n    const existingOpacity = element.style.opacity || \"1\";\n\n    setStyle(element, {\n      opacity: \"0\",\n    });\n\n    window.setTimeout(() => {\n      setStyle(element, {\n        opacity: existingOpacity,\n      });\n    }, 10);\n  }\n\n  parentElement.appendChild(element);\n}\n","export const dataStepNumberAttribute = \"data-step-number\";\nexport const dataIntroAttribute = \"data-intro\";\nexport const dataStepAttribute = \"data-step\";\nexport const dataIntroGroupAttribute = \"data-intro-group\";\nexport const dataDisableInteraction = \"data-disable-interaction\";\nexport const dataTitleAttribute = \"data-title\";\nexport const dataTooltipClass = \"data-tooltip-class\";\nexport const dataHighlightClass = \"data-highlight-class\";\nexport const dataPosition = \"data-position\";\nexport const dataScrollTo = \"data-scroll-to\";\n","import scrollParentToElement from \"../../util/scrollParentToElement\";\nimport scrollTo from \"../../util/scrollTo\";\nimport { addClass, setClass } from \"../../util/className\";\nimport setAnchorAsButton from \"../../util/setAnchorAsButton\";\nimport { TourStep, nextStep, previousStep } from \"./steps\";\nimport { placeTooltip } from \"../../packages/tooltip\";\nimport removeShowElement from \"./removeShowElement\";\nimport createElement from \"../../util/createElement\";\nimport setStyle from \"../../util/setStyle\";\nimport appendChild from \"../../util/appendChild\";\nimport {\n  activeClassName,\n  arrowClassName,\n  bulletsClassName,\n  disabledButtonClassName,\n  disableInteractionClassName,\n  doneButtonClassName,\n  dontShowAgainClassName,\n  fullButtonClassName,\n  helperLayerClassName,\n  helperNumberLayerClassName,\n  hiddenButtonClassName,\n  nextButtonClassName,\n  previousButtonClassName,\n  progressBarClassName,\n  progressClassName,\n  skipButtonClassName,\n  tooltipButtonsClassName,\n  tooltipClassName,\n  tooltipHeaderClassName,\n  tooltipReferenceLayerClassName,\n  tooltipTextClassName,\n  tooltipTitleClassName,\n} from \"./classNames\";\nimport { Tour } from \"./tour\";\nimport { dataStepNumberAttribute } from \"./dataAttributes\";\nimport {\n  getElementByClassName,\n  queryElement,\n  queryElementByClassName,\n} from \"../../util/queryElement\";\nimport { setPositionRelativeToStep } from \"./position\";\nimport getPropValue from \"../../util/getPropValue\";\n\n/**\n * Gets the current progress percentage\n *\n * @api private\n * @returns current progress percentage\n */\nexport const _getProgress = (currentStep: number, introItemsLength: number) => {\n  // Steps are 0 indexed\n  return ((currentStep + 1) / introItemsLength) * 100;\n};\n\n/**\n * Add disableinteraction layer and adjust the size and position of the layer\n *\n * @api private\n */\nexport const _disableInteraction = (tour: Tour, step: TourStep) => {\n  let disableInteractionLayer = queryElementByClassName(\n    disableInteractionClassName\n  );\n\n  if (disableInteractionLayer === null) {\n    disableInteractionLayer = createElement(\"div\", {\n      className: disableInteractionClassName,\n    });\n\n    tour.getTargetElement().appendChild(disableInteractionLayer);\n  }\n\n  setPositionRelativeToStep(\n    tour.getTargetElement(),\n    disableInteractionLayer,\n    step,\n    tour.getOption(\"helperElementPadding\")\n  );\n};\n\n/**\n * Creates the bullets layer\n * @private\n */\nfunction _createBullets(tour: Tour, step: TourStep): HTMLElement {\n  const bulletsLayer = createElement(\"div\", {\n    className: bulletsClassName,\n  });\n\n  if (tour.getOption(\"showBullets\") === false) {\n    bulletsLayer.style.display = \"none\";\n  }\n\n  const ulContainer = createElement(\"ul\");\n  ulContainer.setAttribute(\"role\", \"tablist\");\n\n  const anchorClick = function (this: HTMLElement) {\n    const stepNumber = this.getAttribute(dataStepNumberAttribute);\n    if (stepNumber == null) return;\n\n    tour.goToStep(parseInt(stepNumber, 10));\n  };\n\n  const steps = tour.getSteps();\n  for (let i = 0; i < steps.length; i++) {\n    const { step: stepNumber } = steps[i];\n\n    const innerLi = createElement(\"li\");\n    const anchorLink = createElement(\"a\");\n\n    innerLi.setAttribute(\"role\", \"presentation\");\n    anchorLink.setAttribute(\"role\", \"tab\");\n\n    anchorLink.onclick = anchorClick;\n\n    if (i === step.step - 1) {\n      setClass(anchorLink, activeClassName);\n    }\n\n    setAnchorAsButton(anchorLink);\n    anchorLink.innerHTML = \"&nbsp;\";\n    anchorLink.setAttribute(dataStepNumberAttribute, stepNumber.toString());\n\n    innerLi.appendChild(anchorLink);\n    ulContainer.appendChild(innerLi);\n  }\n\n  bulletsLayer.appendChild(ulContainer);\n\n  return bulletsLayer;\n}\n\n/**\n * Deletes and recreates the bullets layer\n * @private\n */\nexport function _recreateBullets(tour: Tour, step: TourStep) {\n  if (tour.getOption(\"showBullets\")) {\n    const existing = queryElementByClassName(bulletsClassName);\n\n    if (existing && existing.parentNode) {\n      existing.parentNode.replaceChild(_createBullets(tour, step), existing);\n    }\n  }\n}\n\n/**\n * Updates the bullets\n */\nfunction _updateBullets(\n  showBullets: boolean,\n  oldReferenceLayer: HTMLElement,\n  step: TourStep\n) {\n  if (showBullets) {\n    const oldRefActiveBullet = queryElement(\n      `.${bulletsClassName} li > a.${activeClassName}`,\n      oldReferenceLayer\n    );\n\n    const oldRefBulletStepNumber = queryElement(\n      `.${bulletsClassName} li > a[${dataStepNumberAttribute}=\"${step.step}\"]`,\n      oldReferenceLayer\n    );\n\n    if (oldRefActiveBullet && oldRefBulletStepNumber) {\n      oldRefActiveBullet.className = \"\";\n      setClass(oldRefBulletStepNumber, activeClassName);\n    }\n  }\n}\n\n/**\n * Creates the progress-bar layer and elements\n * @private\n */\nfunction _createProgressBar(tour: Tour) {\n  const progressLayer = createElement(\"div\");\n\n  setClass(progressLayer, progressClassName);\n\n  if (tour.getOption(\"showProgress\") === false) {\n    progressLayer.style.display = \"none\";\n  }\n\n  const progressBar = createElement(\"div\", {\n    className: progressBarClassName,\n  });\n\n  if (tour.getOption(\"progressBarAdditionalClass\")) {\n    addClass(progressBar, tour.getOption(\"progressBarAdditionalClass\"));\n  }\n\n  const progress = _getProgress(tour.getCurrentStep(), tour.getSteps().length);\n  progressBar.setAttribute(\"role\", \"progress\");\n  progressBar.setAttribute(\"aria-valuemin\", \"0\");\n  progressBar.setAttribute(\"aria-valuemax\", \"100\");\n  progressBar.setAttribute(\"aria-valuenow\", progress.toString());\n  progressBar.style.cssText = `width:${progress}%;`;\n\n  progressLayer.appendChild(progressBar);\n\n  return progressLayer;\n}\n\n/**\n * Updates an existing progress bar variables\n * @private\n */\nexport function _updateProgressBar(\n  oldReferenceLayer: HTMLElement,\n  currentStep: number,\n  introItemsLength: number\n) {\n  const progressBar = queryElement(\n    `.${progressClassName} .${progressBarClassName}`,\n    oldReferenceLayer\n  );\n\n  if (!progressBar) return;\n\n  const progress = _getProgress(currentStep, introItemsLength);\n\n  progressBar.style.cssText = `width:${progress}%;`;\n  progressBar.setAttribute(\"aria-valuenow\", progress.toString());\n}\n\n/**\n * To set the show element\n * This function set a relative (in most cases) position and changes the z-index\n *\n * @api private\n */\nfunction setShowElement(targetElement: HTMLElement) {\n  addClass(targetElement, \"introjs-showElement\");\n\n  const currentElementPosition = getPropValue(targetElement, \"position\");\n  if (\n    currentElementPosition !== \"absolute\" &&\n    currentElementPosition !== \"relative\" &&\n    currentElementPosition !== \"sticky\" &&\n    currentElementPosition !== \"fixed\"\n  ) {\n    //change to new intro item\n    addClass(targetElement, \"introjs-relativePosition\");\n  }\n}\n\nlet _lastShowElementTimer: number;\n\n/**\n * Show an element on the page\n *\n * @api private\n */\nexport default async function _showElement(tour: Tour, step: TourStep) {\n  tour.callback(\"change\")?.call(tour, step.element);\n\n  const oldHelperLayer = queryElementByClassName(helperLayerClassName);\n  const oldReferenceLayer = queryElementByClassName(\n    tooltipReferenceLayerClassName\n  );\n\n  let highlightClass = helperLayerClassName;\n  let nextTooltipButton: HTMLElement;\n  let prevTooltipButton: HTMLElement;\n  let skipTooltipButton: HTMLElement;\n\n  //check for a current step highlight class\n  if (typeof step.highlightClass === \"string\") {\n    highlightClass += ` ${step.highlightClass}`;\n  }\n\n  //check for options highlight class\n  if (typeof tour.getOption(\"highlightClass\") === \"string\") {\n    highlightClass += ` ${tour.getOption(\"highlightClass\")}`;\n  }\n\n  if (oldHelperLayer !== null && oldReferenceLayer !== null) {\n    const oldTooltipLayer = getElementByClassName(\n      tooltipTextClassName,\n      oldReferenceLayer\n    );\n    const oldTooltipTitleLayer = getElementByClassName(\n      tooltipTitleClassName,\n      oldReferenceLayer\n    );\n    const oldArrowLayer = getElementByClassName(\n      arrowClassName,\n      oldReferenceLayer\n    );\n    const oldTooltipContainer = getElementByClassName(\n      tooltipClassName,\n      oldReferenceLayer\n    );\n\n    skipTooltipButton = getElementByClassName(\n      skipButtonClassName,\n      oldReferenceLayer\n    );\n\n    prevTooltipButton = getElementByClassName(\n      previousButtonClassName,\n      oldReferenceLayer\n    );\n\n    nextTooltipButton = getElementByClassName(\n      nextButtonClassName,\n      oldReferenceLayer\n    );\n\n    //update or reset the helper highlight class\n    setClass(oldHelperLayer, highlightClass);\n\n    //hide the tooltip\n    oldTooltipContainer.style.opacity = \"0\";\n    oldTooltipContainer.style.display = \"none\";\n\n    // if the target element is within a scrollable element\n    scrollParentToElement(\n      tour.getOption(\"scrollToElement\"),\n      step.element as HTMLElement\n    );\n\n    // set new position to helper layer\n    const helperLayerPadding = tour.getOption(\"helperElementPadding\");\n    setPositionRelativeToStep(\n      tour.getTargetElement(),\n      oldHelperLayer,\n      step,\n      helperLayerPadding\n    );\n    setPositionRelativeToStep(\n      tour.getTargetElement(),\n      oldReferenceLayer,\n      step,\n      helperLayerPadding\n    );\n\n    //remove old classes if the element still exist\n    removeShowElement();\n\n    //we should wait until the CSS3 transition is competed (it's 0.3 sec) to prevent incorrect `height` and `width` calculation\n    if (_lastShowElementTimer) {\n      window.clearTimeout(_lastShowElementTimer);\n    }\n\n    const oldHelperNumberLayer = queryElementByClassName(\n      helperNumberLayerClassName,\n      oldReferenceLayer\n    );\n\n    _lastShowElementTimer = window.setTimeout(() => {\n      // set current step to the label\n      if (oldHelperNumberLayer !== null) {\n        oldHelperNumberLayer.innerHTML = `${step.step} ${tour.getOption(\n          \"stepNumbersOfLabel\"\n        )} ${tour.getSteps().length}`;\n      }\n\n      // set current tooltip text\n      oldTooltipLayer.innerHTML = step.intro || \"\";\n\n      // set current tooltip title\n      oldTooltipTitleLayer.innerHTML = step.title || \"\";\n\n      //set the tooltip position\n      oldTooltipContainer.style.display = \"block\";\n      placeTooltip(\n        oldTooltipContainer,\n        oldArrowLayer,\n        step.element as HTMLElement,\n        step.position,\n        tour.getOption(\"positionPrecedence\"),\n        tour.getOption(\"showStepNumbers\"),\n        tour.getOption(\"autoPosition\"),\n        step.tooltipClass ?? tour.getOption(\"tooltipClass\")\n      );\n\n      //change active bullet\n      _updateBullets(tour.getOption(\"showBullets\"), oldReferenceLayer, step);\n\n      _updateProgressBar(\n        oldReferenceLayer,\n        tour.getCurrentStep(),\n        tour.getSteps().length\n      );\n\n      //show the tooltip\n      oldTooltipContainer.style.opacity = \"1\";\n\n      //reset button focus\n      if (\n        nextTooltipButton &&\n        new RegExp(doneButtonClassName, \"gi\").test(nextTooltipButton.className)\n      ) {\n        // skip button is now \"done\" button\n        nextTooltipButton.focus();\n      } else if (nextTooltipButton) {\n        //still in the tour, focus on next\n        nextTooltipButton.focus();\n      }\n\n      // change the scroll of the window, if needed\n      scrollTo(\n        tour.getOption(\"scrollToElement\"),\n        step.scrollTo,\n        tour.getOption(\"scrollPadding\"),\n        step.element as HTMLElement,\n        oldTooltipLayer\n      );\n    }, 350);\n\n    // end of old element if-else condition\n  } else {\n    const helperLayer = createElement(\"div\", {\n      className: highlightClass,\n    });\n    const referenceLayer = createElement(\"div\", {\n      className: tooltipReferenceLayerClassName,\n    });\n    const arrowLayer = createElement(\"div\", {\n      className: arrowClassName,\n    });\n    const tooltipLayer = createElement(\"div\", {\n      className: tooltipClassName,\n    });\n    const tooltipTextLayer = createElement(\"div\", {\n      className: tooltipTextClassName,\n    });\n    const tooltipHeaderLayer = createElement(\"div\", {\n      className: tooltipHeaderClassName,\n    });\n    const tooltipTitleLayer = createElement(\"h1\", {\n      className: tooltipTitleClassName,\n    });\n\n    const buttonsLayer = createElement(\"div\");\n\n    setStyle(helperLayer, {\n      // the inner box shadow is the border for the highlighted element\n      // the outer box shadow is the overlay effect\n      \"box-shadow\": `0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ${tour\n        .getOption(\"overlayOpacity\")\n        .toString()}) 0 0 0 5000px`,\n    });\n\n    // target is within a scrollable element\n    scrollParentToElement(\n      tour.getOption(\"scrollToElement\"),\n      step.element as HTMLElement\n    );\n\n    //set new position to helper layer\n    const helperLayerPadding = tour.getOption(\"helperElementPadding\");\n    setPositionRelativeToStep(\n      tour.getTargetElement(),\n      helperLayer,\n      step,\n      helperLayerPadding\n    );\n    setPositionRelativeToStep(\n      tour.getTargetElement(),\n      referenceLayer,\n      step,\n      helperLayerPadding\n    );\n\n    //add helper layer to target element\n    appendChild(tour.getTargetElement(), helperLayer, true);\n    appendChild(tour.getTargetElement(), referenceLayer);\n\n    tooltipTextLayer.innerHTML = step.intro;\n    tooltipTitleLayer.innerHTML = step.title;\n\n    setClass(buttonsLayer, tooltipButtonsClassName);\n\n    if (tour.getOption(\"showButtons\") === false) {\n      buttonsLayer.style.display = \"none\";\n    }\n\n    tooltipHeaderLayer.appendChild(tooltipTitleLayer);\n    tooltipLayer.appendChild(tooltipHeaderLayer);\n    tooltipLayer.appendChild(tooltipTextLayer);\n\n    // \"Do not show again\" checkbox\n    if (tour.getOption(\"dontShowAgain\")) {\n      const dontShowAgainWrapper = createElement(\"div\", {\n        className: dontShowAgainClassName,\n      });\n      const dontShowAgainCheckbox = createElement(\"input\", {\n        type: \"checkbox\",\n        id: dontShowAgainClassName,\n        name: dontShowAgainClassName,\n      });\n      dontShowAgainCheckbox.onchange = (e) => {\n        tour.setDontShowAgain((<HTMLInputElement>e.target).checked);\n      };\n      const dontShowAgainCheckboxLabel = createElement(\"label\", {\n        htmlFor: dontShowAgainClassName,\n      });\n      dontShowAgainCheckboxLabel.innerText =\n        tour.getOption(\"dontShowAgainLabel\");\n      dontShowAgainWrapper.appendChild(dontShowAgainCheckbox);\n      dontShowAgainWrapper.appendChild(dontShowAgainCheckboxLabel);\n\n      tooltipLayer.appendChild(dontShowAgainWrapper);\n    }\n\n    tooltipLayer.appendChild(_createBullets(tour, step));\n    tooltipLayer.appendChild(_createProgressBar(tour));\n\n    // add helper layer number\n    const helperNumberLayer = createElement(\"div\");\n\n    if (tour.getOption(\"showStepNumbers\") === true) {\n      setClass(helperNumberLayer, helperNumberLayerClassName);\n\n      helperNumberLayer.innerHTML = `${step.step} ${tour.getOption(\n        \"stepNumbersOfLabel\"\n      )} ${tour.getSteps().length}`;\n      tooltipLayer.appendChild(helperNumberLayer);\n    }\n\n    tooltipLayer.appendChild(arrowLayer);\n    referenceLayer.appendChild(tooltipLayer);\n\n    //next button\n    nextTooltipButton = createElement(\"a\");\n\n    nextTooltipButton.onclick = async () => {\n      if (!tour.isLastStep()) {\n        await nextStep(tour);\n      } else if (\n        new RegExp(doneButtonClassName, \"gi\").test(nextTooltipButton.className)\n      ) {\n        await tour\n          .callback(\"complete\")\n          ?.call(tour, tour.getCurrentStep(), \"done\");\n\n        await tour.exit();\n      }\n    };\n\n    setAnchorAsButton(nextTooltipButton);\n    nextTooltipButton.innerHTML = tour.getOption(\"nextLabel\");\n\n    //previous button\n    prevTooltipButton = createElement(\"a\");\n\n    prevTooltipButton.onclick = async () => {\n      if (tour.getCurrentStep() > 0) {\n        await previousStep(tour);\n      }\n    };\n\n    setAnchorAsButton(prevTooltipButton);\n    prevTooltipButton.innerHTML = tour.getOption(\"prevLabel\");\n\n    //skip button\n    skipTooltipButton = createElement(\"a\", {\n      className: skipButtonClassName,\n    });\n\n    setAnchorAsButton(skipTooltipButton);\n    skipTooltipButton.innerHTML = tour.getOption(\"skipLabel\");\n\n    skipTooltipButton.onclick = async () => {\n      if (tour.isLastStep()) {\n        await tour\n          .callback(\"complete\")\n          ?.call(tour, tour.getCurrentStep(), \"skip\");\n      }\n\n      await tour.callback(\"skip\")?.call(tour, tour.getCurrentStep());\n\n      await tour.exit();\n    };\n\n    tooltipHeaderLayer.appendChild(skipTooltipButton);\n\n    // in order to prevent displaying previous button always\n    if (tour.getSteps().length > 1) {\n      buttonsLayer.appendChild(prevTooltipButton);\n    }\n\n    // we always need the next button because this\n    // button changes to \"Done\" in the last step of the tour\n    buttonsLayer.appendChild(nextTooltipButton);\n    tooltipLayer.appendChild(buttonsLayer);\n\n    // set proper position\n    placeTooltip(\n      tooltipLayer,\n      arrowLayer,\n      step.element as HTMLElement,\n      step.position,\n      tour.getOption(\"positionPrecedence\"),\n      tour.getOption(\"showStepNumbers\"),\n      tour.getOption(\"autoPosition\"),\n      step.tooltipClass ?? tour.getOption(\"tooltipClass\")\n    );\n\n    // change the scroll of the window, if needed\n    scrollTo(\n      tour.getOption(\"scrollToElement\"),\n      step.scrollTo,\n      tour.getOption(\"scrollPadding\"),\n      step.element as HTMLElement,\n      tooltipLayer\n    );\n\n    //end of new element if-else condition\n  }\n\n  // removing previous disable interaction layer\n  const disableInteractionLayer = queryElementByClassName(\n    disableInteractionClassName,\n    tour.getTargetElement()\n  );\n  if (disableInteractionLayer && disableInteractionLayer.parentNode) {\n    disableInteractionLayer.parentNode.removeChild(disableInteractionLayer);\n  }\n\n  //disable interaction\n  if (step.disableInteraction) {\n    _disableInteraction(tour, step);\n  }\n\n  // when it's the first step of tour\n  if (tour.getCurrentStep() === 0 && tour.getSteps().length > 1) {\n    if (nextTooltipButton) {\n      setClass(\n        nextTooltipButton,\n        tour.getOption(\"buttonClass\"),\n        nextButtonClassName\n      );\n      nextTooltipButton.innerHTML = tour.getOption(\"nextLabel\");\n    }\n\n    if (tour.getOption(\"hidePrev\") === true) {\n      if (prevTooltipButton) {\n        setClass(\n          prevTooltipButton,\n          tour.getOption(\"buttonClass\"),\n          previousButtonClassName,\n          hiddenButtonClassName\n        );\n      }\n      if (nextTooltipButton) {\n        addClass(nextTooltipButton, fullButtonClassName);\n      }\n    } else {\n      if (prevTooltipButton) {\n        setClass(\n          prevTooltipButton,\n          tour.getOption(\"buttonClass\"),\n          previousButtonClassName,\n          disabledButtonClassName\n        );\n      }\n    }\n  } else if (tour.isLastStep() || tour.getSteps().length === 1) {\n    // last step of tour\n    if (prevTooltipButton) {\n      setClass(\n        prevTooltipButton,\n        tour.getOption(\"buttonClass\"),\n        previousButtonClassName\n      );\n    }\n\n    if (tour.getOption(\"hideNext\") === true) {\n      if (nextTooltipButton) {\n        setClass(\n          nextTooltipButton,\n          tour.getOption(\"buttonClass\"),\n          nextButtonClassName,\n          hiddenButtonClassName\n        );\n      }\n      if (prevTooltipButton) {\n        addClass(prevTooltipButton, fullButtonClassName);\n      }\n    } else {\n      if (nextTooltipButton) {\n        if (tour.getOption(\"nextToDone\") === true) {\n          nextTooltipButton.innerHTML = tour.getOption(\"doneLabel\");\n          addClass(\n            nextTooltipButton,\n            tour.getOption(\"buttonClass\"),\n            nextButtonClassName,\n            doneButtonClassName\n          );\n        } else {\n          setClass(\n            nextTooltipButton,\n            tour.getOption(\"buttonClass\"),\n            nextButtonClassName,\n            disabledButtonClassName\n          );\n        }\n      }\n    }\n  } else {\n    // steps between start and end\n    if (prevTooltipButton) {\n      setClass(\n        prevTooltipButton,\n        tour.getOption(\"buttonClass\"),\n        previousButtonClassName\n      );\n    }\n    if (nextTooltipButton) {\n      setClass(\n        nextTooltipButton,\n        tour.getOption(\"buttonClass\"),\n        nextButtonClassName\n      );\n      nextTooltipButton.innerHTML = tour.getOption(\"nextLabel\");\n    }\n  }\n\n  if (prevTooltipButton) {\n    prevTooltipButton.setAttribute(\"role\", \"button\");\n  }\n  if (nextTooltipButton) {\n    nextTooltipButton.setAttribute(\"role\", \"button\");\n  }\n  if (skipTooltipButton) {\n    skipTooltipButton.setAttribute(\"role\", \"button\");\n  }\n\n  //Set focus on \"next\" button, so that hitting Enter always moves you onto the next step\n  if (nextTooltipButton) {\n    nextTooltipButton.focus();\n  }\n\n  setShowElement(step.element as HTMLElement);\n\n  await tour.callback(\"afterChange\")?.call(tour, step.element);\n}\n","import { setPositionRelativeTo } from \"../../util/setPositionRelativeTo\";\nimport { TourStep } from \"./steps\";\n\n/**\n * Sets the position of the element relative to the TourStep\n * @api private\n */\nexport const setPositionRelativeToStep = (\n  relativeElement: HTMLElement,\n  element: HTMLElement,\n  step: TourStep,\n  padding: number\n) => {\n  setPositionRelativeTo(\n    relativeElement,\n    element,\n    step.element as HTMLElement,\n    step.position === \"floating\" ? 0 : padding\n  );\n};\n","import { TooltipPosition } from \"../../packages/tooltip\";\nimport showElement from \"./showElement\";\nimport {\n  queryElement,\n  queryElementByClassName,\n  queryElements,\n} from \"../../util/queryElement\";\nimport cloneObject from \"../../util/cloneObject\";\nimport createElement from \"../../util/createElement\";\nimport { Tour } from \"./tour\";\nimport { floatingElementClassName } from \"./classNames\";\nimport {\n  dataDisableInteraction,\n  dataHighlightClass,\n  dataIntroAttribute,\n  dataIntroGroupAttribute,\n  dataPosition,\n  dataScrollTo,\n  dataStepAttribute,\n  dataTitleAttribute,\n  dataTooltipClass,\n} from \"./dataAttributes\";\n\nexport type ScrollTo = \"off\" | \"element\" | \"tooltip\";\n\nexport type TourStep = {\n  step: number;\n  title: string;\n  intro: string;\n  tooltipClass?: string;\n  highlightClass?: string;\n  element?: Element | HTMLElement | string | null;\n  position: TooltipPosition;\n  scrollTo: ScrollTo;\n  disableInteraction?: boolean;\n};\n\n/**\n * Go to next step on intro\n *\n * @api private\n */\nexport async function nextStep(tour: Tour) {\n  tour.incrementCurrentStep();\n\n  const nextStep = tour.getStep(tour.getCurrentStep());\n  let continueStep: boolean | undefined = true;\n\n  continueStep = await tour\n    .callback(\"beforeChange\")\n    ?.call(\n      tour,\n      nextStep && (nextStep.element as HTMLElement),\n      tour.getCurrentStep(),\n      tour.getDirection()\n    );\n\n  // if `onbeforechange` returned `false`, stop displaying the element\n  if (continueStep === false) {\n    tour.decrementCurrentStep();\n    return false;\n  }\n\n  if (tour.isEnd()) {\n    // check if any callback is defined\n    await tour.callback(\"complete\")?.call(tour, tour.getCurrentStep(), \"end\");\n    await tour.exit();\n\n    return false;\n  }\n\n  await showElement(tour, nextStep);\n\n  return true;\n}\n\n/**\n * Go to previous step on intro\n *\n * @api private\n */\nexport async function previousStep(tour: Tour) {\n  if (tour.getCurrentStep() <= 0) {\n    return false;\n  }\n\n  tour.decrementCurrentStep();\n\n  const nextStep = tour.getStep(tour.getCurrentStep());\n  let continueStep: boolean | undefined = true;\n\n  continueStep = await tour\n    .callback(\"beforeChange\")\n    ?.call(\n      tour,\n      nextStep && (nextStep.element as HTMLElement),\n      tour.getCurrentStep(),\n      tour.getDirection()\n    );\n\n  // if `onbeforechange` returned `false`, stop displaying the element\n  if (continueStep === false) {\n    tour.incrementCurrentStep();\n    return false;\n  }\n\n  await showElement(tour, nextStep);\n\n  return true;\n}\n\n/**\n * Finds all Intro steps from the data-* attributes and the options.steps array\n *\n * @api private\n */\nexport const fetchSteps = (tour: Tour) => {\n  let steps: TourStep[] = [];\n\n  if (tour.getOption(\"steps\")?.length) {\n    //use steps passed programmatically\n    for (const _step of tour.getOption(\"steps\")) {\n      const step = cloneObject(_step);\n\n      //set the step\n      step.step = steps.length + 1;\n\n      step.title = step.title || \"\";\n\n      //use querySelector function only when developer used CSS selector\n      if (typeof step.element === \"string\") {\n        //grab the element with given selector from the page\n        step.element = queryElement(step.element) || undefined;\n      }\n\n      // tour without element\n      if (!step.element) {\n        let floatingElementQuery = queryElementByClassName(\n          floatingElementClassName\n        );\n\n        if (!floatingElementQuery) {\n          floatingElementQuery = createElement(\"div\", {\n            className: floatingElementClassName,\n          });\n\n          document.body.appendChild(floatingElementQuery);\n        }\n\n        step.element = floatingElementQuery;\n        step.position = \"floating\";\n      }\n\n      step.position = step.position || tour.getOption(\"tooltipPosition\");\n      step.scrollTo = step.scrollTo || tour.getOption(\"scrollTo\");\n\n      if (typeof step.disableInteraction === \"undefined\") {\n        step.disableInteraction = tour.getOption(\"disableInteraction\");\n      }\n\n      if (step.element !== null) {\n        steps.push(step as TourStep);\n      }\n    }\n  } else {\n    const elements = Array.from(\n      queryElements(`*[${dataIntroAttribute}]`, tour.getTargetElement())\n    );\n\n    // if there's no element to intro\n    if (elements.length < 1) {\n      return [];\n    }\n\n    const itemsWithoutStep: TourStep[] = [];\n\n    for (const element of elements) {\n      // start intro for groups of elements\n      if (\n        tour.getOption(\"group\") &&\n        element.getAttribute(dataIntroGroupAttribute) !==\n          tour.getOption(\"group\")\n      ) {\n        continue;\n      }\n\n      // skip hidden elements\n      if (element.style.display === \"none\") {\n        continue;\n      }\n\n      // get the step for the current element or set as 0 if is not present\n      const stepIndex = parseInt(\n        element.getAttribute(dataStepAttribute) || \"0\",\n        10\n      );\n\n      let disableInteraction = tour.getOption(\"disableInteraction\");\n      if (element.hasAttribute(dataDisableInteraction)) {\n        disableInteraction = !!element.getAttribute(dataDisableInteraction);\n      }\n\n      const newIntroStep: TourStep = {\n        step: stepIndex,\n        element,\n        title: element.getAttribute(dataTitleAttribute) || \"\",\n        intro: element.getAttribute(dataIntroAttribute) || \"\",\n        tooltipClass: element.getAttribute(dataTooltipClass) || undefined,\n        highlightClass: element.getAttribute(dataHighlightClass) || undefined,\n        position: (element.getAttribute(dataPosition) ||\n          tour.getOption(\"tooltipPosition\")) as TooltipPosition,\n        scrollTo:\n          (element.getAttribute(dataScrollTo) as ScrollTo) ||\n          tour.getOption(\"scrollTo\"),\n        disableInteraction,\n      };\n\n      if (stepIndex > 0) {\n        steps[stepIndex - 1] = newIntroStep;\n      } else {\n        itemsWithoutStep.push(newIntroStep);\n      }\n    }\n\n    // fill items without step in blanks and update their step\n    for (let i = 0; itemsWithoutStep.length > 0; i++) {\n      if (typeof steps[i] === \"undefined\") {\n        const newStep = itemsWithoutStep.shift();\n        if (!newStep) break;\n\n        newStep.step = i + 1;\n        steps[i] = newStep;\n      }\n    }\n  }\n\n  // removing undefined/null elements\n  steps = steps.filter((n) => n);\n\n  // Sort all items with given steps\n  steps.sort((a, b) => a.step - b.step);\n\n  return steps;\n};\n","import createElement from \"../../util/createElement\";\nimport setStyle from \"../../util/setStyle\";\nimport { Tour } from \"./tour\";\nimport { overlayClassName } from \"./classNames\";\n\n/**\n * Add overlay layer to the page\n *\n * @api private\n */\nexport default function addOverlayLayer(tour: Tour) {\n  const overlayLayer = createElement(\"div\", {\n    className: overlayClassName,\n  });\n\n  setStyle(overlayLayer, {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    position: \"fixed\",\n  });\n\n  tour.getTargetElement().appendChild(overlayLayer);\n\n  if (tour.getOption(\"exitOnOverlayClick\") === true) {\n    setStyle(overlayLayer, {\n      cursor: \"pointer\",\n    });\n\n    overlayLayer.onclick = async () => {\n      await tour.exit();\n    };\n  }\n\n  return true;\n}\n","import addOverlayLayer from \"./addOverlayLayer\";\nimport { nextStep } from \"./steps\";\nimport { fetchSteps } from \"./steps\";\nimport { Tour } from \"./tour\";\n\n/**\n * Initiate a new tour the page\n *\n * @api private\n */\nexport const start = async (tour: Tour): Promise<Boolean> => {\n  // don't start the tour if the instance is not active\n  if (!tour.isActive()) {\n    return false;\n  }\n\n  // don't start the tour if it's already started\n  if (tour.hasStarted()) {\n    return false;\n  }\n\n  await tour.callback(\"start\")?.call(tour, tour.getTargetElement());\n\n  //set it to the introJs object\n  const steps = fetchSteps(tour);\n\n  if (steps.length === 0) {\n    return false;\n  }\n\n  tour.setSteps(steps);\n\n  //add overlay layer to the page\n  if (addOverlayLayer(tour)) {\n    //then, start the show\n    await nextStep(tour);\n\n    return true;\n  }\n\n  return false;\n};\n","import setStyle from \"./setStyle\";\n\n/**\n * Removes `element` from `parentElement`\n */\nexport const removeChild = (element: HTMLElement | null) => {\n  if (!element || !element.parentElement) return;\n\n  element.parentElement.removeChild(element);\n};\n\nexport const removeAnimatedChild = async (element: HTMLElement | null) => {\n  if (!element) return;\n\n  setStyle(element, {\n    opacity: \"0\",\n  });\n\n  return new Promise<void>((resolve) => {\n    setTimeout(() => {\n      try {\n        // removeChild(..) throws an exception if the child has already been removed (https://developer.mozilla.org/en-US/docs/Web/API/Node/removeChild)\n        // this try-catch is added to make sure this function doesn't throw an exception if the child has been removed\n        // this scenario can happen when start()/exit() is called multiple times and the helperLayer is removed by the\n        // previous exit() call (note: this is a timeout)\n        removeChild(element);\n      } catch (e) {\n      } finally {\n        resolve();\n      }\n    }, 500);\n  });\n};\n","import removeShowElement from \"./removeShowElement\";\nimport { removeChild, removeAnimatedChild } from \"../../util/removeChild\";\nimport { Tour } from \"./tour\";\nimport {\n  disableInteractionClassName,\n  floatingElementClassName,\n  helperLayerClassName,\n  overlayClassName,\n  tooltipReferenceLayerClassName,\n} from \"./classNames\";\nimport {\n  queryElementByClassName,\n  queryElementsByClassName,\n} from \"../../util/queryElement\";\n\n/**\n * Exit from intro\n *\n * @api private\n * @param {Boolean} force - Setting to `true` will skip the result of beforeExit callback\n */\nexport default async function exitIntro(\n  tour: Tour,\n  force: boolean = false\n): Promise<boolean> {\n  const targetElement = tour.getTargetElement();\n  let continueExit: boolean | undefined = true;\n\n  // calling onbeforeexit callback\n  //\n  // If this callback return `false`, it would halt the process\n  continueExit = await tour.callback(\"beforeExit\")?.call(tour, targetElement);\n\n  // skip this check if `force` parameter is `true`\n  // otherwise, if `onbeforeexit` returned `false`, don't exit the intro\n  if (!force && continueExit === false) return false;\n\n  // remove overlay layers from the page\n  const overlayLayers = Array.from(\n    queryElementsByClassName(overlayClassName, targetElement)\n  );\n\n  if (overlayLayers && overlayLayers.length) {\n    for (const overlayLayer of overlayLayers) {\n      removeChild(overlayLayer);\n    }\n  }\n\n  const referenceLayer = queryElementByClassName(\n    tooltipReferenceLayerClassName,\n    targetElement\n  );\n  removeChild(referenceLayer);\n\n  //remove disableInteractionLayer\n  const disableInteractionLayer = queryElementByClassName(\n    disableInteractionClassName,\n    targetElement\n  );\n  removeChild(disableInteractionLayer);\n\n  //remove intro floating element\n  const floatingElement = queryElementByClassName(\n    floatingElementClassName,\n    targetElement\n  );\n  removeChild(floatingElement);\n\n  removeShowElement();\n\n  //remove all helper layers\n  const helperLayer = queryElementByClassName(\n    helperLayerClassName,\n    targetElement\n  );\n  await removeAnimatedChild(helperLayer);\n\n  //check if any callback is defined\n  await tour.callback(\"exit\")?.call(tour);\n\n  // set the step to default\n  tour.setCurrentStep(-1);\n\n  return true;\n}\n","export function setCookie(name: string, value: string, days?: number) {\n  const cookie: {\n    [name: string]: string | undefined;\n    path: string;\n    expires: string | undefined;\n  } = { [name]: value, path: \"/\", expires: undefined };\n\n  if (days) {\n    let date = new Date();\n    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n    cookie.expires = date.toUTCString();\n  }\n\n  let arr = [];\n  for (let key in cookie) {\n    arr.push(`${key}=${cookie[key]}`);\n  }\n\n  document.cookie = arr.join(\"; \");\n\n  return getCookie(name);\n}\n\nexport function getAllCookies() {\n  let cookie: { [name: string]: string } = {};\n\n  document.cookie.split(\";\").forEach((el) => {\n    let [k, v] = el.split(\"=\");\n    cookie[k.trim()] = v;\n  });\n\n  return cookie;\n}\n\nexport function getCookie(name: string) {\n  return getAllCookies()[name];\n}\n\nexport function deleteCookie(name: string) {\n  setCookie(name, \"\", -1);\n}\n","import { deleteCookie, getCookie, setCookie } from \"../../util/cookie\";\n\nconst dontShowAgainCookieValue = \"true\";\n\n/**\n * Set the \"Don't show again\" state\n *\n * @api private\n */\nexport function setDontShowAgain(\n  dontShowAgain: boolean,\n  cookieName: string,\n  cookieDays: number\n) {\n  if (dontShowAgain) {\n    setCookie(cookieName, dontShowAgainCookieValue, cookieDays);\n  } else {\n    deleteCookie(cookieName);\n  }\n}\n\n/**\n * Get the \"Don't show again\" state from cookies\n *\n * @api private\n */\nexport function getDontShowAgain(cookieName: string): boolean {\n  const dontShowCookie = getCookie(cookieName);\n  return dontShowCookie !== \"\" && dontShowCookie === dontShowAgainCookieValue;\n}\n","import { placeTooltip } from \"../../packages/tooltip\";\nimport { _recreateBullets, _updateProgressBar } from \"./showElement\";\nimport { Tour } from \"./tour\";\nimport {\n  getElementByClassName,\n  queryElementByClassName,\n} from \"../../util/queryElement\";\nimport {\n  disableInteractionClassName,\n  helperLayerClassName,\n  tooltipReferenceLayerClassName,\n} from \"./classNames\";\nimport { setPositionRelativeToStep } from \"./position\";\nimport { fetchSteps } from \"./steps\";\n\n/**\n * Update placement of the intro objects on the screen\n * @api private\n */\nexport default function refresh(tour: Tour, refreshSteps?: boolean) {\n  const currentStep = tour.getCurrentStep();\n\n  if (currentStep === undefined || currentStep === null || currentStep == -1) {\n    return;\n  }\n\n  const step = tour.getStep(currentStep);\n\n  const referenceLayer = getElementByClassName(tooltipReferenceLayerClassName);\n  const helperLayer = getElementByClassName(helperLayerClassName);\n  const disableInteractionLayer = queryElementByClassName(\n    disableInteractionClassName\n  );\n\n  // re-align intros\n  const targetElement = tour.getTargetElement();\n  const helperLayerPadding = tour.getOption(\"helperElementPadding\");\n  setPositionRelativeToStep(\n    targetElement,\n    helperLayer,\n    step,\n    helperLayerPadding\n  );\n  setPositionRelativeToStep(\n    targetElement,\n    referenceLayer,\n    step,\n    helperLayerPadding\n  );\n\n  // not all steps have a disableInteractionLayer\n  if (disableInteractionLayer) {\n    setPositionRelativeToStep(\n      targetElement,\n      disableInteractionLayer,\n      step,\n      helperLayerPadding\n    );\n  }\n\n  if (refreshSteps) {\n    tour.setSteps(fetchSteps(tour));\n    _recreateBullets(tour, step);\n    _updateProgressBar(referenceLayer, currentStep, tour.getSteps().length);\n  }\n\n  // re-align tooltip\n  const oldArrowLayer = document.querySelector<HTMLElement>(\".introjs-arrow\");\n  const oldTooltipContainer =\n    document.querySelector<HTMLElement>(\".introjs-tooltip\");\n\n  if (oldTooltipContainer && oldArrowLayer) {\n    placeTooltip(\n      oldTooltipContainer,\n      oldArrowLayer,\n      step.element as HTMLElement,\n      step.position,\n      tour.getOption(\"positionPrecedence\"),\n      tour.getOption(\"showStepNumbers\"),\n      tour.getOption(\"autoPosition\"),\n      step.tooltipClass ?? tour.getOption(\"tooltipClass\")\n    );\n  }\n\n  return tour;\n}\n","import { nextStep, previousStep } from \"./steps\";\nimport { Tour } from \"./tour\";\nimport { previousButtonClassName, skipButtonClassName } from \"./classNames\";\nimport { dataStepNumberAttribute } from \"./dataAttributes\";\n\n/**\n * on keyCode:\n * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode\n * This feature has been removed from the Web standards.\n * Though some browsers may still support it, it is in\n * the process of being dropped.\n * Instead, you should use KeyboardEvent.code,\n * if it's implemented.\n *\n * jQuery's approach is to test for\n *   (1) e.which, then\n *   (2) e.charCode, then\n *   (3) e.keyCode\n * https://github.com/jquery/jquery/blob/a6b0705294d336ae2f63f7276de0da1195495363/src/event.js#L638\n */\nexport default async function onKeyDown(tour: Tour, e: KeyboardEvent) {\n  let code = e.code === undefined ? e.which : e.code;\n\n  // if e.which is null\n  if (code === null) {\n    code = e.charCode === null ? e.keyCode : e.charCode;\n  }\n\n  if (\n    (code === \"Escape\" || code === 27) &&\n    tour.getOption(\"exitOnEsc\") === true\n  ) {\n    //escape key pressed, exit the intro\n    //check if exit callback is defined\n    await tour.exit();\n  } else if (code === \"ArrowLeft\" || code === 37) {\n    //left arrow\n    await previousStep(tour);\n  } else if (code === \"ArrowRight\" || code === 39) {\n    //right arrow\n    await nextStep(tour);\n  } else if (code === \"Enter\" || code === \"NumpadEnter\" || code === 13) {\n    //srcElement === ie\n    const target = (e.target || e.srcElement) as HTMLElement;\n    if (target && target.className.match(previousButtonClassName)) {\n      //user hit enter while focusing on previous button\n      await previousStep(tour);\n    } else if (target && target.className.match(skipButtonClassName)) {\n      // user hit enter while focusing on skip button\n      if (tour.isEnd()) {\n        await tour\n          .callback(\"complete\")\n          ?.call(tour, tour.getCurrentStep(), \"skip\");\n      }\n\n      await tour.exit();\n    } else if (target && target.getAttribute(dataStepNumberAttribute)) {\n      // user hit enter while focusing on step bullet\n      target.click();\n    } else {\n      //default behavior for responding to enter\n      await nextStep(tour);\n    }\n\n    //prevent default behaviour on hitting Enter, to prevent steps being skipped in some browsers\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      e.returnValue = false;\n    }\n  }\n}\n","import { nextStep, previousStep, TourStep } from \"./steps\";\nimport { Package } from \"../package\";\nimport {\n  introAfterChangeCallback,\n  introBeforeChangeCallback,\n  introBeforeExitCallback,\n  introChangeCallback,\n  introCompleteCallback,\n  introExitCallback,\n  introSkipCallback,\n  introStartCallback,\n} from \"./callback\";\nimport { getDefaultTourOptions, TourOptions } from \"./option\";\nimport { setOptions, setOption } from \"../../option\";\nimport { start } from \"./start\";\nimport exitIntro from \"./exitIntro\";\nimport isFunction from \"../../util/isFunction\";\nimport { getDontShowAgain, setDontShowAgain } from \"./dontShowAgain\";\nimport refresh from \"./refresh\";\nimport { getContainerElement } from \"../../util/containerElement\";\nimport DOMEvent from \"../../util/DOMEvent\";\nimport onKeyDown from \"./onKeyDown\";\nimport onResize from \"./onResize\";\n\n/**\n * Intro.js Tour class\n */\nexport class Tour implements Package<TourOptions> {\n  private _steps: TourStep[] = [];\n  private _currentStep: number = -1;\n  private _direction: \"forward\" | \"backward\";\n  private readonly _targetElement: HTMLElement;\n  private _options: TourOptions;\n\n  private readonly callbacks: {\n    beforeChange?: introBeforeChangeCallback;\n    change?: introChangeCallback;\n    afterChange?: introAfterChangeCallback;\n    complete?: introCompleteCallback;\n    start?: introStartCallback;\n    exit?: introExitCallback;\n    skip?: introSkipCallback;\n    beforeExit?: introBeforeExitCallback;\n  } = {};\n\n  // Event handlers\n  private _keyboardNavigationHandler?: (e: KeyboardEvent) => Promise<void>;\n  private _refreshOnResizeHandler?: (e: Event) => void;\n\n  /**\n   * Create a new Tour instance\n   * @param elementOrSelector Optional target element or CSS query to start the Tour on\n   * @param options Optional Tour options\n   */\n  public constructor(\n    elementOrSelector?: string | HTMLElement,\n    options?: Partial<TourOptions>\n  ) {\n    this._targetElement = getContainerElement(elementOrSelector);\n    this._options = options\n      ? setOptions(this._options, options)\n      : getDefaultTourOptions();\n  }\n\n  /**\n   * Get a specific callback function\n   * @param callbackName callback name\n   */\n  callback<K extends keyof typeof this.callbacks>(\n    callbackName: K\n  ): (typeof this.callbacks)[K] | undefined {\n    const callback = this.callbacks[callbackName];\n    if (isFunction(callback)) {\n      return callback;\n    }\n    return undefined;\n  }\n\n  /**\n   * Go to a specific step of the tour\n   * @param step step number\n   */\n  async goToStep(step: number) {\n    // step - 2 because steps starts from zero index and nextStep() increments the step\n    this.setCurrentStep(step - 2);\n    await nextStep(this);\n    return this;\n  }\n\n  /**\n   * Go to a specific step of the tour with the explicit [data-step] number\n   * @param stepNumber [data-step] value of the step\n   */\n  async goToStepNumber(stepNumber: number) {\n    for (let i = 0; i < this._steps.length; i++) {\n      const item = this._steps[i];\n\n      if (item.step === stepNumber) {\n        // i - 1 because nextStep() increments the step\n        this.setCurrentStep(i - 1);\n        break;\n      }\n    }\n\n    await nextStep(this);\n\n    return this;\n  }\n\n  /**\n   * Add a step to the tour options.\n   * This method should be used in conjunction with the `start()` method.\n   * @param step step to add\n   */\n  addStep(step: Partial<TourStep>) {\n    if (!this._options.steps) {\n      this._options.steps = [];\n    }\n\n    this._options.steps.push(step);\n\n    return this;\n  }\n\n  /**\n   * Add multiple steps to the tour options.\n   * This method should be used in conjunction with the `start()` method.\n   * @param steps steps to add\n   */\n  addSteps(steps: Partial<TourStep>[]) {\n    if (!steps.length) return this;\n\n    for (const step of steps) {\n      this.addStep(step);\n    }\n\n    return this;\n  }\n\n  /**\n   * Set the steps of the tour\n   * @param steps steps to set\n   */\n  setSteps(steps: TourStep[]): this {\n    this._steps = steps;\n    return this;\n  }\n\n  /**\n   * Get all available steps of the tour\n   */\n  getSteps(): TourStep[] {\n    return this._steps;\n  }\n\n  /**\n   * Get a specific step of the tour\n   * @param {number} step step number\n   */\n  getStep(step: number): TourStep {\n    return this._steps[step];\n  }\n\n  /**\n   * Get the current step of the tour\n   */\n  getCurrentStep(): number {\n    return this._currentStep;\n  }\n\n  /**\n   * @deprecated `currentStep()` is deprecated, please use `getCurrentStep()` instead.\n   */\n  currentStep(): number {\n    return this._currentStep;\n  }\n\n  /**\n   * Set the current step of the tour and the direction of the tour\n   * @param step\n   */\n  setCurrentStep(step: number): this {\n    if (step >= this._currentStep) {\n      this._direction = \"forward\";\n    } else {\n      this._direction = \"backward\";\n    }\n\n    this._currentStep = step;\n    return this;\n  }\n\n  /**\n   * Increment the current step of the tour (does not start the tour step, must be called in conjunction with `nextStep`)\n   */\n  incrementCurrentStep(): this {\n    if (this.getCurrentStep() === -1) {\n      this.setCurrentStep(0);\n    } else {\n      this.setCurrentStep(this.getCurrentStep() + 1);\n    }\n\n    return this;\n  }\n\n  /**\n   * Decrement the current step of the tour (does not start the tour step, must be in conjunction with `previousStep`)\n   */\n  decrementCurrentStep(): this {\n    if (this.getCurrentStep() > 0) {\n      this.setCurrentStep(this._currentStep - 1);\n    }\n\n    return this;\n  }\n\n  /**\n   * Get the direction of the tour (forward or backward)\n   */\n  getDirection() {\n    return this._direction;\n  }\n\n  /**\n   * Go to the next step of the tour\n   */\n  async nextStep() {\n    await nextStep(this);\n    return this;\n  }\n\n  /**\n   * Go to the previous step of the tour\n   */\n  async previousStep() {\n    await previousStep(this);\n    return this;\n  }\n\n  /**\n   * Check if the current step is the last step\n   */\n  isEnd(): boolean {\n    return this.getCurrentStep() >= this._steps.length;\n  }\n\n  /**\n   * Check if the current step is the last step of the tour\n   */\n  isLastStep(): boolean {\n    return this.getCurrentStep() === this._steps.length - 1;\n  }\n\n  /**\n   * Get the target element of the tour\n   */\n  getTargetElement(): HTMLElement {\n    return this._targetElement;\n  }\n\n  /**\n   * Set the options for the tour\n   * @param partialOptions key/value pair of options\n   */\n  setOptions(partialOptions: Partial<TourOptions>): this {\n    this._options = setOptions(this._options, partialOptions);\n    return this;\n  }\n\n  /**\n   * Set a specific option for the tour\n   * @param key option key\n   * @param value option value\n   */\n  setOption<K extends keyof TourOptions>(key: K, value: TourOptions[K]): this {\n    this._options = setOption(this._options, key, value);\n    return this;\n  }\n\n  /**\n   * Get a specific option for the tour\n   * @param key option key\n   */\n  getOption<K extends keyof TourOptions>(key: K): TourOptions[K] {\n    return this._options[key];\n  }\n\n  /**\n   * Clone the current tour instance\n   */\n  clone(): ThisType<this> {\n    return new Tour(this._targetElement, this._options);\n  }\n\n  /**\n   * Returns true if the tour instance is active\n   */\n  isActive(): boolean {\n    if (\n      this.getOption(\"dontShowAgain\") &&\n      getDontShowAgain(this.getOption(\"dontShowAgainCookie\"))\n    ) {\n      return false;\n    }\n\n    return this.getOption(\"isActive\");\n  }\n\n  /**\n   * Returns true if the tour has started\n   */\n  hasStarted(): boolean {\n    return this.getCurrentStep() > -1;\n  }\n\n  /**\n   * Set the `dontShowAgain` option for the tour so that the tour does not show twice to the same user\n   * This is a persistent option that is stored in the browser's cookies\n   *\n   * @param dontShowAgain boolean value to set the `dontShowAgain` option\n   */\n  setDontShowAgain(dontShowAgain: boolean) {\n    setDontShowAgain(\n      dontShowAgain,\n      this.getOption(\"dontShowAgainCookie\"),\n      this.getOption(\"dontShowAgainCookieDays\")\n    );\n    return this;\n  }\n\n  /**\n   * Enable keyboard navigation for the tour\n   */\n  enableKeyboardNavigation() {\n    if (this.getOption(\"keyboardNavigation\")) {\n      this._keyboardNavigationHandler = (e: KeyboardEvent) =>\n        onKeyDown(this, e);\n      DOMEvent.on(window, \"keydown\", this._keyboardNavigationHandler, true);\n    }\n\n    return this;\n  }\n\n  /**\n   * Disable keyboard navigation for the tour\n   */\n  disableKeyboardNavigation() {\n    if (this._keyboardNavigationHandler) {\n      DOMEvent.off(window, \"keydown\", this._keyboardNavigationHandler, true);\n      this._keyboardNavigationHandler = undefined;\n    }\n\n    return this;\n  }\n\n  /**\n   * Enable refresh on window resize for the tour\n   */\n  enableRefreshOnResize() {\n    this._refreshOnResizeHandler = (_: Event) => onResize(this);\n    DOMEvent.on(window, \"resize\", this._refreshOnResizeHandler, true);\n  }\n\n  /**\n   * Disable refresh on window resize for the tour\n   */\n  disableRefreshOnResize() {\n    if (this._refreshOnResizeHandler) {\n      DOMEvent.off(window, \"resize\", this._refreshOnResizeHandler, true);\n      this._refreshOnResizeHandler = undefined;\n    }\n  }\n\n  /**\n   * Starts the tour and shows the first step\n   */\n  async start() {\n    if (await start(this)) {\n      this.enableKeyboardNavigation();\n      this.enableRefreshOnResize();\n    }\n\n    return this;\n  }\n\n  /**\n   * Exit the tour\n   * @param {boolean} force whether to force exit the tour\n   */\n  async exit(force?: boolean) {\n    if (await exitIntro(this, force ?? false)) {\n      this.disableKeyboardNavigation();\n      this.disableRefreshOnResize();\n    }\n\n    return this;\n  }\n\n  /**\n   * Refresh the tour\n   * @param {boolean} refreshSteps whether to refresh the tour steps\n   */\n  refresh(refreshSteps?: boolean) {\n    refresh(this, refreshSteps);\n    return this;\n  }\n\n  /**\n   * @deprecated onbeforechange is deprecated, please use onBeforeChange instead.\n   */\n  onbeforechange(callback: introBeforeChangeCallback) {\n    return this.onBeforeChange(callback);\n  }\n\n  /**\n   * Add a callback to be called before the tour changes steps\n   * @param {Function} callback callback function to be called\n   */\n  onBeforeChange(callback: introBeforeChangeCallback) {\n    if (!isFunction(callback)) {\n      throw new Error(\n        \"Provided callback for onBeforeChange was not a function\"\n      );\n    }\n\n    this.callbacks.beforeChange = callback;\n    return this;\n  }\n\n  /**\n   * @deprecated onchange is deprecated, please use onChange instead.\n   */\n  onchange(callback: introChangeCallback) {\n    this.onChange(callback);\n  }\n\n  /**\n   * Add a callback to be called when the tour changes steps\n   * @param {Function} callback callback function to be called\n   */\n  onChange(callback: introChangeCallback) {\n    if (!isFunction(callback)) {\n      throw new Error(\"Provided callback for onChange was not a function.\");\n    }\n\n    this.callbacks.change = callback;\n    return this;\n  }\n\n  /**\n   * @deprecated onafterchange is deprecated, please use onAfterChange instead.\n   */\n  onafterchange(callback: introAfterChangeCallback) {\n    this.onAfterChange(callback);\n  }\n\n  /**\n   * Add a callback to be called after the tour changes steps\n   * @param {Function} callback callback function to be called\n   */\n  onAfterChange(callback: introAfterChangeCallback) {\n    if (!isFunction(callback)) {\n      throw new Error(\"Provided callback for onAfterChange was not a function\");\n    }\n\n    this.callbacks.afterChange = callback;\n    return this;\n  }\n\n  /**\n   * @deprecated oncomplete is deprecated, please use onComplete instead.\n   */\n  oncomplete(callback: introCompleteCallback) {\n    return this.onComplete(callback);\n  }\n\n  /**\n   * Add a callback to be called when the tour is completed\n   * @param {Function} callback callback function to be called\n   */\n  onComplete(callback: introCompleteCallback) {\n    if (!isFunction(callback)) {\n      throw new Error(\"Provided callback for oncomplete was not a function.\");\n    }\n\n    this.callbacks.complete = callback;\n    return this;\n  }\n\n  /**\n   * @deprecated onstart is deprecated, please use onStart instead.\n   */\n  onstart(callback: introStartCallback) {\n    return this.onStart(callback);\n  }\n\n  /**\n   * Add a callback to be called when the tour is started\n   * @param {Function} callback callback function to be called\n   */\n  onStart(callback: introStartCallback) {\n    if (!isFunction(callback)) {\n      throw new Error(\"Provided callback for onstart was not a function.\");\n    }\n\n    this.callbacks.start = callback;\n    return this;\n  }\n\n  /**\n   * @deprecated onexit is deprecated, please use onExit instead.\n   */\n  onexit(callback: introExitCallback) {\n    return this.onExit(callback);\n  }\n\n  /**\n   * Add a callback to be called when the tour is exited\n   * @param {Function} callback callback function to be called\n   */\n  onExit(callback: introExitCallback) {\n    if (!isFunction(callback)) {\n      throw new Error(\"Provided callback for onexit was not a function.\");\n    }\n\n    this.callbacks.exit = callback;\n    return this;\n  }\n\n  /**\n   * @deprecated onskip is deprecated, please use onSkip instead.\n   */\n  onskip(callback: introSkipCallback) {\n    return this.onSkip(callback);\n  }\n\n  /**\n   * Add a callback to be called when the tour is skipped\n   * @param {Function} callback callback function to be called\n   */\n  onSkip(callback: introSkipCallback) {\n    if (!isFunction(callback)) {\n      throw new Error(\"Provided callback for onskip was not a function.\");\n    }\n\n    this.callbacks.skip = callback;\n    return this;\n  }\n\n  /**\n   * @deprecated onbeforeexit is deprecated, please use onBeforeExit instead.\n   */\n  onbeforeexit(callback: introBeforeExitCallback) {\n    return this.onBeforeExit(callback);\n  }\n\n  /**\n   * Add a callback to be called before the tour is exited\n   * @param {Function} callback callback function to be called\n   */\n  onBeforeExit(callback: introBeforeExitCallback) {\n    if (!isFunction(callback)) {\n      throw new Error(\"Provided callback for onbeforeexit was not a function.\");\n    }\n\n    this.callbacks.beforeExit = callback;\n    return this;\n  }\n}\n","import { TooltipPosition } from \"../../packages/tooltip\";\nimport { TourStep, ScrollTo } from \"./steps\";\n\nexport interface TourOptions {\n  steps: Partial<TourStep>[];\n  /* Is this tour instance active? Don't show the tour again if this flag is set to false */\n  isActive: boolean;\n  /* Next button label in tooltip box */\n  nextLabel: string;\n  /* Previous button label in tooltip box */\n  prevLabel: string;\n  /* Skip button label in tooltip box */\n  skipLabel: string;\n  /* Done button label in tooltip box */\n  doneLabel: string;\n  /* Hide previous button in the first step? Otherwise, it will be disabled button. */\n  hidePrev: boolean;\n  /* Hide next button in the last step? Otherwise, it will be disabled button (note: this will also hide the \"Done\" button) */\n  hideNext: boolean;\n  /* Change the Next button to Done in the last step of the intro? otherwise, it will render a disabled button */\n  nextToDone: boolean;\n  /* Default tooltip box position */\n  tooltipPosition: TooltipPosition;\n  /* Next CSS class for tooltip boxes */\n  tooltipClass: string;\n  /* Start intro for a group of elements */\n  group: string;\n  /* CSS class that is added to the helperLayer */\n  highlightClass: string;\n  /* Close introduction when pressing Escape button? */\n  exitOnEsc: boolean;\n  /* Close introduction when clicking on overlay layer? */\n  exitOnOverlayClick: boolean;\n  /* Display the pagination detail */\n  showStepNumbers: boolean;\n  /* Pagination \"of\" label */\n  stepNumbersOfLabel: string;\n  /* Let user use keyboard to navigate the tour? */\n  keyboardNavigation: boolean;\n  /* Show tour control buttons? */\n  showButtons: boolean;\n  /* Show tour bullets? */\n  showBullets: boolean;\n  /* Show tour progress? */\n  showProgress: boolean;\n  /* Scroll to highlighted element? */\n  scrollToElement: boolean;\n  /*\n   * Should we scroll the tooltip or target element?\n   * Options are: 'element', 'tooltip' or 'off'\n   */\n  scrollTo: ScrollTo;\n  /* Padding to add after scrolling when element is not in the viewport (in pixels) */\n  scrollPadding: number;\n  /* Set the overlay opacity */\n  overlayOpacity: number;\n  /* To determine the tooltip position automatically based on the window.width/height */\n  autoPosition: boolean;\n  /* Precedence of positions, when auto is enabled */\n  positionPrecedence: TooltipPosition[];\n  /* Disable an interaction with element? */\n  disableInteraction: boolean;\n  /* To display the \"Don't show again\" checkbox in the tour */\n  dontShowAgain: boolean;\n  dontShowAgainLabel: string;\n  /* \"Don't show again\" cookie name and expiry (in days) */\n  dontShowAgainCookie: string;\n  dontShowAgainCookieDays: number;\n  /* Set how much padding to be used around helper element */\n  helperElementPadding: number;\n  /* additional classes to put on the buttons */\n  buttonClass: string;\n  /* additional classes to put on progress bar */\n  progressBarAdditionalClass: string;\n}\n\nexport function getDefaultTourOptions(): TourOptions {\n  return {\n    steps: [],\n    isActive: true,\n    nextLabel: \"Next\",\n    prevLabel: \"Back\",\n    skipLabel: \"\",\n    doneLabel: \"Done\",\n    hidePrev: false,\n    hideNext: false,\n    nextToDone: true,\n    tooltipPosition: \"bottom\",\n    tooltipClass: \"\",\n    group: \"\",\n    highlightClass: \"\",\n    exitOnEsc: true,\n    exitOnOverlayClick: true,\n    showStepNumbers: false,\n    stepNumbersOfLabel: \"of\",\n    keyboardNavigation: true,\n    showButtons: true,\n    showBullets: true,\n    showProgress: false,\n    scrollToElement: true,\n    scrollTo: \"element\",\n    scrollPadding: 30,\n    overlayOpacity: 0.5,\n    autoPosition: true,\n    positionPrecedence: [\"bottom\", \"top\", \"right\", \"left\"],\n    disableInteraction: false,\n\n    dontShowAgain: false,\n    dontShowAgainLabel: \"Don't show this again\",\n    dontShowAgainCookie: \"introjs-dontShowAgain\",\n    dontShowAgainCookieDays: 365,\n    helperElementPadding: 10,\n\n    buttonClass: \"introjs-button\",\n    progressBarAdditionalClass: \"\",\n  };\n}\n","import refresh from \"./refresh\";\nimport { Tour } from \"./tour\";\n\nexport default function onResize(tour: Tour) {\n  refresh(tour);\n}\n","import { version } from \"../package.json\";\nimport { Hint } from \"./packages/hint\";\nimport { Tour } from \"./packages/tour\";\n\nclass LegacyIntroJs extends Tour {\n  /**\n   * @deprecated introJs().addHints() is deprecated, please use introJs.hint().addHints() instead\n   * @param args\n   */\n  addHints(..._: any[]) {\n    console.error(\n      \"introJs().addHints() is deprecated, please use introJs.hint.addHints() instead.\"\n    );\n  }\n\n  /**\n   * @deprecated introJs().addHint() is deprecated, please use introJs.hint.addHint() instead\n   * @param args\n   */\n  addHint(..._: any[]) {\n    console.error(\n      \"introJs().addHint() is deprecated, please use introJs.hint.addHint() instead.\"\n    );\n  }\n\n  /**\n   * @deprecated introJs().removeHints() is deprecated, please use introJs.hint.hideHints() instead\n   * @param args\n   */\n  removeHints(..._: any[]) {\n    console.error(\n      \"introJs().removeHints() is deprecated, please use introJs.hint.removeHints() instead.\"\n    );\n  }\n}\n\n/**\n * Intro.js module\n */\nconst introJs = (elementOrSelector?: string | HTMLElement) => {\n  console.warn(\n    \"introJs() is deprecated. Please use introJs.tour() or introJs.hint() instead.\"\n  );\n  return new LegacyIntroJs(elementOrSelector);\n};\n\n/**\n * Create a new Intro.js Tour instance\n * @param elementOrSelector Optional target element to start the Tour on\n */\nintroJs.tour = (elementOrSelector?: string | HTMLElement) =>\n  new Tour(elementOrSelector);\n\n/**\n * Create a new Intro.js Hint instance\n * @param elementOrSelector Optional target element to start the Hint on\n */\nintroJs.hint = (elementOrSelector?: string | HTMLElement) =>\n  new Hint(elementOrSelector);\n\n/**\n * Current Intro.js version\n */\nintroJs.version = version;\n\nexport default introJs;\n"],"names":["cloneObject","source","_typeof","temp","key","window","jQuery","queryElement","selector","container","document","querySelector","queryElements","querySelectorAll","queryElementByClassName","className","concat","queryElementsByClassName","getElementByClassName","element","Error","dataHintAttribute","dataStepAttribute","dataHintPositionAttribute","fetchHintItems","hint","setHints","targetElement","getTargetElement","hints","getOption","length","_step","_iterator","_createForOfIteratorHelper","s","n","done","hintItem","value","hintPosition","hintAnimation","addHint","err","e","f","elements","Array","from","_i","_elements","hintAnimationAttr","getAttribute","tooltipClass","undefined","position","setOption","options","setOptions","partialOptions","_Object$entries","Object","entries","_Object$entries$_i","_slicedToArray","isFunction","x","getPropValue","propName","propValue","currentStyle","defaultView","getComputedStyle","getPropertyValue","toLowerCase","isFixed","parent","parentElement","nodeName","getOffset","relativeEl","body","docEl","documentElement","scrollTop","pageYOffset","scrollLeft","pageXOffset","getBoundingClientRect","xr","relativeElPosition","obj","width","height","tagName","assign","top","left","alignHintPosition","hintElement","offset","iconWidth","iconHeight","style","DOMEvent$1","DOMEvent","_classCallCheck","_createClass","type","listener","useCapture","addEventListener","attachEvent","removeEventListener","detachEvent","getContainerElement","elementOrSelector","getElement","hintsClassName","hintClassName","arrowClassName","tooltipClassName","hideHintClassName","tooltipReferenceLayerClassName","tooltipTextClassName","hintReferenceClassName","hintNoAnimationClassName","fixedHintClassName","hintDotClassName","hintPulseClassName","setStyle","cssText","rule","_createElement","attrs","createElement","setAttRegex","k","v","match","setAttribute","setAnchorAsButton","anchor","tabIndex","addClass","_len","arguments","classNames","_key","_classNames","SVGElement","pre","setClass","classList","add","_len2","_key2","filter","Boolean","join","removeClass","classNameRegex","replace","trim","hintsContainer","hintElements","stepId","hideHint","_x","_x2","_hideHint","apply","this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_hint$callback","wrap","_context","prev","next","removeHintTooltip","callback","call","stop","hideHints","_x3","_hideHints","_callee2","_Array$from","_hintElement","step","_context2","abrupt","parseInt","setPositionRelativeTo","relativeElement","padding","Element","getWinSize","innerWidth","innerHeight","D","clientWidth","clientHeight","checkRight","targetOffset","tooltipLayerStyleLeft","tooltipOffset","windowSize","tooltipLayer","checkLeft","tooltipLayerStyleRight","right","removeEntry","stringArray","stringToRemove","includes","splice","indexOf","_determineAutoPosition","positionPrecedence","desiredTooltipPosition","possiblePositions","slice","getWindowSize","tooltipHeight","tooltipWidth","targetElementRect","calculatedPosition","bottom","split","defaultAlignment","desiredAlignment","offsetLeft","windowWidth","halfTooltipWidth","winWidth","Math","min","screen","_determineAutoAlignment","_hintCloseFunction","placeTooltip","arrowLayer","showStepNumbers","autoPosition","hintMode","marginLeft","marginTop","display","tooltipLayerStyleLeftRight","tooltip","parentNode","removeChild","showHintDialog","_showHintDialog","_hintItem$tooltipClas","item","removedStep","tooltipTextLayer","referenceLayer","tooltipWrapper","closeButton","helperLayerPadding","getHint","onclick","stopPropagation","cancelBubble","innerHTML","appendChild","off","on","getHintClick","i","evt","event","renderHints","_renderHints","hintsWrapper","hintDot","hintPulse","getHints","toString","hintTargetElement","enableHintAutoRefresh","showHints","_showHints","showHint","render","RegExp","removeHint","Hint","_defineProperty","_targetElement","_options","isActive","tooltipPosition","hintButtonLabel","hintShowButton","hintAutoRefreshInterval","buttonClass","helperElementPadding","_showHintDialog2","_showHints2","_hideHints2","_hideHint2","_addHints","_render","callbackName","callbacks","_hints","push","_callee3","_context3","_callee4","_context4","_callee5","_context5","disableHintAutoRefresh","removeHints","destroy","_callee6","_context6","func","timeout","timer","_this","_hintsAutoRefreshFunction","_step$value","reAlignHints","args","clearTimeout","setTimeout","providedCallback","hintsAdded","onHintsAdded","hintClick","onHintClick","hintClose","onHintClose","scrollParentToElement","scrollToElement","excludeStaticParent","overflowRegex","test","overflow","overflowY","overflowX","getScrollParent","offsetTop","scrollTo","scrollPadding","rect","el","elementInViewport","winHeight","scrollBy","overlayClassName","disableInteractionClassName","bulletsClassName","progressClassName","progressBarClassName","helperLayerClassName","helperNumberLayerClassName","tooltipHeaderClassName","tooltipTitleClassName","tooltipButtonsClassName","skipButtonClassName","previousButtonClassName","nextButtonClassName","doneButtonClassName","dontShowAgainClassName","hiddenButtonClassName","disabledButtonClassName","fullButtonClassName","activeClassName","floatingElementClassName","removeShowElement","_elms","elm","animate","existingOpacity","opacity","_lastShowElementTimer","dataStepNumberAttribute","dataIntroAttribute","dataDisableInteraction","setPositionRelativeToStep","_getProgress","currentStep","introItemsLength","_disableInteraction","tour","disableInteractionLayer","_createBullets","bulletsLayer","ulContainer","anchorClick","stepNumber","goToStep","steps","getSteps","innerLi","anchorLink","_updateBullets","showBullets","oldReferenceLayer","oldRefActiveBullet","oldRefBulletStepNumber","_createProgressBar","progressLayer","progressBar","progress","getCurrentStep","_updateProgressBar","setShowElement","currentElementPosition","_showElement","_showElement2","_tour$callback","_tour$callback5","oldHelperLayer","highlightClass","nextTooltipButton","prevTooltipButton","skipTooltipButton","oldTooltipLayer","oldTooltipTitleLayer","oldArrowLayer","oldTooltipContainer","oldHelperNumberLayer","_step$tooltipClass2","helperLayer","tooltipHeaderLayer","tooltipTitleLayer","buttonsLayer","_helperLayerPadding","dontShowAgainWrapper","dontShowAgainCheckbox","dontShowAgainCheckboxLabel","helperNumberLayer","_step$tooltipClass","intro","title","focus","id","name","onchange","setDontShowAgain","target","checked","htmlFor","innerText","_tour$callback2","isLastStep","nextStep","exit","previousStep","_tour$callback4","_tour$callback3","disableInteraction","_nextStep","incrementCurrentStep","getStep","getDirection","sent","decrementCurrentStep","isEnd","showElement","_previousStep","fetchSteps","_tour$getOption","_step2","floatingElementQuery","itemsWithoutStep","stepIndex","hasAttribute","newIntroStep","newStep","shift","sort","a","b","addOverlayLayer","overlayLayer","cursor","start","_ref","hasStarted","setSteps","removeAnimatedChild","Promise","resolve","exitIntro","_exitIntro","force","continueExit","overlayLayers","floatingElement","_args","setCurrentStep","setCookie","days","_cookie","cookie","date","Date","setTime","getTime","expires","toUTCString","arr","getCookie","forEach","_el$split2","dontShowAgainCookieValue","dontShowAgain","cookieName","cookieDays","refresh","refreshSteps","existing","replaceChild","_recreateBullets","_onKeyDown","code","which","charCode","keyCode","srcElement","click","preventDefault","returnValue","Tour","nextLabel","prevLabel","skipLabel","doneLabel","hidePrev","hideNext","nextToDone","group","exitOnEsc","exitOnOverlayClick","stepNumbersOfLabel","keyboardNavigation","showButtons","showProgress","overlayOpacity","dontShowAgainLabel","dontShowAgainCookie","dontShowAgainCookieDays","progressBarAdditionalClass","_exit","_start2","_previousStep2","_nextStep2","_goToStepNumber","_goToStep","_steps","addStep","_currentStep","_direction","dontShowCookie","_keyboardNavigationHandler","onKeyDown","_this2","_refreshOnResizeHandler","_","enableKeyboardNavigation","enableRefreshOnResize","disableKeyboardNavigation","disableRefreshOnResize","onBeforeChange","beforeChange","onChange","change","onAfterChange","afterChange","onComplete","complete","onStart","onExit","onSkip","skip","onBeforeExit","beforeExit","LegacyIntroJs","_Tour","_inherits","_super","_createSuper","console","error","introJs","warn","version"],"mappings":"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"}